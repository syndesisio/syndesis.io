<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="Asciidoctor 1.5.8"><title>Syndesis Sample Integration Tutorials</title><link rel="stylesheet" href="/css/syndesis.css?t=1603364626412"><link href="https://fonts.googleapis.com/css?family=Quicksand&amp;display=swap" rel="stylesheet"><div id="wrapper"><a href="https://github.com/syndesisio" class="github-corner hidden-md-down" aria-label="View source on Github" rel="nofollow" target="_blank"><svg width="74" height="74" viewBox="0 0 250 250" style="fill:#fff;z-index:2000;color:#0088ce;mix-blend-mode:screen;position:absolute;top:0;border:0;right:0" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7
          120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9
          125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6
          C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0
          C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1
          C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4
          C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9
          C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5
          C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9
          L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><nav class="navbar topnav fixed-top navbar-inverse bg-primary navbar-toggleable-md sps sps--abv"><button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#top-nav" aria-controls="top-nav" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button> <a href="/" title="Syndesis - Open source integration platform"><svg id="artwork" xmlns="http://www.w3.org/2000/svg" width="190px" height="39.33px" viewBox="0 0 1300 300" preserveAspectRatio="xMidYMin slice"><defs><style>.cls-1{fill:#9adde8}.cls-2{fill:#49badc}.cls-3{fill:#fff}</style></defs><title>Syndesis - Open source integration platform</title><polygon class="cls-1" points="129.95 98.77 33.99 144.38 122.22 167.37 218.18 121.75 129.95 98.77"/><polygon class="cls-2" points="218.18 121.75 218.18 121.75 122.22 167.37 242.17 198.61 218.18 121.75"/><polygon class="cls-1" points="154.99 86.86 131 10 10 67.52 129.95 98.77 154.99 86.86"/><polygon class="cls-2" points="33.99 144.38 129.95 98.77 10 67.52 10 67.52 33.99 144.38"/><polygon class="cls-2" points="189.64 25.27 131 10 154.99 86.86 213.63 102.14 189.64 25.27"/><polygon class="cls-2" points="38.54 164 62.53 240.86 121.17 256.13 121.17 256.13 97.18 179.27 97.18 179.27 38.54 164"/><polygon class="cls-1" points="242.17 198.61 122.22 167.37 97.18 179.27 121.17 256.13 242.17 198.61"/><path class="cls-3" d="M358.91,210.23c-23.57,0-43.44-17.22-44.06-41.6H329.2c.41,22.74,17.21,29.3,37.09,29.3,16.6,0,35.65-9.63,35.65-28.48,0-14.76-10.65-21.73-23.15-25.82-24-8-60.45-15.58-60.45-47.55,0-25.82,23.77-40,47.13-40,19.47,0,44.88,6.77,48.15,35.25H399.28c-.41-18.24-17-23-32.17-23-15.37,0-34.43,7.79-34.43,25.82,0,42,83.61,23,83.61,74C416.29,200.39,388.62,210.23,358.91,210.23Z"/><path class="cls-3" d="M484.32,143.22l-54.51-84h17l45.29,71.52L537.4,59.2h14.34l-54.1,83.61v64.34H484.32Z"/><path class="cls-3" d="M572.24,59.2H587.4L669,189.32h.41V59.2h13.32v148h-16.8L586,79.28h-.41V207.15H572.24Z"/><path class="cls-3" d="M760,59.2c48.56,0,76.23,25,76.23,74s-27.67,74-76.23,74H720V59.2Zm3.27,135.66c41.6,0,58.61-24.39,58.61-61.69,0-43.64-25.61-62.91-67.62-61.68h-20.9V194.86Z"/><path class="cls-3" d="M870.19,207.15V59.2H958.1V71.49H883.51v53.08h71.73v12.29H883.51v58h77.67v12.29Z"/><path class="cls-3" d="M1030.44,210.23c-23.56,0-43.44-17.22-44.05-41.6h14.34c.41,22.74,17.21,29.3,37.09,29.3,16.6,0,35.66-9.63,35.66-28.48,0-14.76-10.66-21.73-23.16-25.82-24-8-60.45-15.58-60.45-47.55,0-25.82,23.77-40,47.13-40,19.47,0,44.88,6.77,48.16,35.25h-14.35c-.41-18.24-17-23-32.17-23-15.37,0-34.43,7.79-34.43,25.82,0,42,83.61,23,83.61,74C1087.82,200.39,1060.16,210.23,1030.44,210.23Z"/><path class="cls-3" d="M1121.63,207.15V58.58H1135V207.15Z"/><path class="cls-3" d="M1212.62,210.23c-23.56,0-43.44-17.22-44.06-41.6h14.35c.41,22.74,17.21,29.3,37.09,29.3,16.6,0,35.66-9.63,35.66-28.48,0-14.76-10.66-21.73-23.16-25.82-24-8-60.45-15.58-60.45-47.55,0-25.82,23.77-40,47.13-40,19.47,0,44.88,6.77,48.16,35.25H1253c-.41-18.24-17-23-32.17-23-15.37,0-34.43,7.79-34.43,25.82,0,42,83.61,23,83.61,74C1270,200.39,1242.34,210.23,1212.62,210.23Z"/></svg></a><div class="collapse navbar-collapse" id="top-nav"><ul class="navbar-nav ml-auto mt-2 mt-md-0 mr-lg-4"><li class="nav-item ml-lg-3 ml-0"><a class="nav-link" href="/quickstart">Quickstart</a></li><li class="nav-item ml-lg-3 ml-0"><a class="nav-link" href="/docs">Documentation</a></li><li class="nav-item ml-lg-3 ml-0"><a class="nav-link" href="/blog">Blog</a></li><li class="nav-item ml-lg-3 ml-0"><a class="nav-link" href="/faq">FAQ</a></li><li class="nav-item ml-lg-3 ml-0"><a class="nav-link" href="/community">Community</a></li><li class="nav-item ml-lg-3 ml-0"><a class="nav-link" href="/about">About</a></li></ul></div></nav><div class="article"></div></div></head><body class="book"><div id="header"><h1>Syndesis Sample Integration Tutorials</h1></div><div id="content"><div id="preamble"><div class="sectionbody"><div class="paragraph"><p>Syndesis lets you obtain data from an application or service, operate on that data if you need to, and then send the data to a completely different application or service. You can do all this without writing code.</p></div><div class="paragraph"><p>Explore Syndesis by creating sample integrations. A <a href="#comparison-of-sample-integrations_tutorials">comparison table</a> can help you decide which of these integrations to create first:</p></div><div class="ulist"><ul><li><p><a href="#twitter-to-salesforce_tutorials">Implementing the Twitter to Salesforce sample integration</a></p></li><li><p><a href="#salesforce-to-db_tutorials">Implementing the Salesforce to database sample integration</a></p></li><li><p><a href="#amq-to-rest-api_tutorials">Implementing the AMQ to REST API sample integration</a></p></li></ul></div><div class="paragraph"><p>See also: <a href="https://zregvart.github.io/syndesis.io/manual/integrating-applications/">Integrating Applications</a></p></div></div></div><div class="sect1"><h2 id="comparison-of-sample-integrations_tutorials">Choosing the sample integration to create first</h2><div class="sectionbody"><div class="paragraph"><p>You can create the sample integrations in any order. To help you decide which one to try first, the following table compares them.</p></div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width:25%"><col style="width:25%"><col style="width:25%"><col style="width:25%"></colgroup><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;</p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://zregvart.github.io/syndesis.io/manual/tutorials/#twitter-to-salesforce_tutorials">Twitter to Salesforce</a></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://zregvart.github.io/syndesis.io/manual/tutorials/#salesforce-to-db_tutorials">Salesforce to Database</a></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://zregvart.github.io/syndesis.io/manual/tutorials/#amq-to-rest-api_tutorials">AMQ to REST API</a></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">What it does</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Captures and filters tweets that mention a particular Twitter user. For tweets that contain specified text, the integration passes data related to the tweet to Salesforce and Salesforce creates a new contact.</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Captures updates in Salesforce and then calls a database stored procedure to synchronize a particular database table with the Salesforce updates.</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Obtains delivery records from a Red Hat AMQ broker, executes a custom step to identify any items that were damaged when they were received, and connects to a REST API to provide contact information for vendors of damaged items.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">What you learn about</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Connecting to Twitter and Salesforce, how Syndesis interfaces with applications that use the OAuth protocol, mapping data fields received from one application to fields that the next connected application in the integration can operate on, filtering data to determine whether to continue integration execution.</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Connecting to Salesforce and a SQL database, OAuth support, data mapping, how to update a SQL database as part of an integration.</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Connecting to a Red Hat AMQ broker and a REST API, data mapping, uploading extensions for a step and for a REST API client connector, using a custom step and a custom API client connection.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">Average minutes to complete</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">25</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">25</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">Notes about the time</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">This includes the time needed to obtain Twitter and Salesforce accounts. It does not include 5 - 12 minutes of waiting for Salesforce registration to take effect and for Syndesis to start running the integration.</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">20 minutes includes the time needed to obtain a Salesforce developer account but not the time spent waiting. If you already created the Twitter to Salesforce sample then it takes 10 minutes to create this integration.</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">This does not include the time it takes for Syndesis to start running the integration.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">Prerequisites</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Twitter developer account, Salesforce developer account</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Salesforce developer account</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td></tr></tbody></table></div></div><div class="sect1"><h2 id="twitter-to-salesforce_tutorials">Implementing the Twitter to Salesforce sample integration</h2><div class="sectionbody"><div class="paragraph"><p>This sample integration watches Twitter for tweets that mention a particular Twitter user. When the integration finds such tweets, it filters them so that only those tweets that contain the text that you specify cause the integration to continue.</p></div><div class="paragraph"><p>For tweets that contain the specified text, the integration passes data related to the tweet, including the Twitter user name, to Salesforce and Salesforce creates a new contact.</p></div><div class="ulist"><div class="title">Prerequisites</div><ul><li><p>You need a Twitter developer account. If you do not already have one, go to <a href="https://apps.twitter.com" class="bare">https://apps.twitter.com</a>, sign in to Twitter, and click <strong>Apply for a developer account</strong>. Obtaining the developer account is quick when you provide a professional email address, such as <code>me@redhat.com</code> rather than a personal address such as <code>you@gmail.com</code>.</p></li><li><p>You need an account in a Salesforce installation that is used for development. This account must have Salesforce API access, which is available in a Salesforce Enterprise account or a Salesforce Developer account. To obtain a free developer account, visit <a href="https://developer.salesforce.com/signup" class="bare">https://developer.salesforce.com/signup</a>. It takes less than two minutes to obtain a Salesforce account.</p></li></ul></div><div class="paragraph"><p>To implement, deploy, and test this sample integration, the main steps are:</p></div><div class="olist arabic"><ol class="arabic"><li><p><a href="#register-with-twitter_t2sf">Registering Syndesis as a Twitter client application</a></p></li><li><p><a href="#create-twitter-connection_t2sf">Creating a Twitter connection</a></p></li><li><p><a href="#register-with-salesforce_t2sf">Registering Syndesis as a Salesforce client application</a></p></li><li><p><a href="#create-salesforce-connection_t2sf">Creating a Salesforce connection</a></p></li><li><p><a href="#create-twitter-sf-integration_t2sf">Creating and deploying the Twitter to Salesforce sample integration</a></p></li><li><p><a href="#t2sf-confirm-working_t2sf">Confirming that the Twitter to Salesforce integration works</a></p></li><li><p><a href="#cleanup_t2sf">Cleaning up your integration</a></p></li></ol></div><div class="sect2"><h3 id="register-with-twitter_t2sf">Registering Syndesis as a Twitter client application</h3><div class="paragraph"><p>In an integration, to connect to Twitter, the first thing you must do is register your Syndesis environment as a client application that can access Twitter. This lets you create any number of integrations that connect to Twitter. In other words, you need to register a particular Syndesis environment with Twitter only once.</p></div><div class="paragraph"><p>In each Syndesis environment, there can be only one registration of Syndesis as a Twitter client application. However, while each Twitter connection uses the same registration, it can use different user credentials.</p></div><div class="paragraph"><div class="title">Prerequisite</div><p>You are logged in to Syndesis.</p></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>In Syndesis:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>In the left panel, click <strong>Settings</strong>.</p></li><li><p>On the <strong>Settings</strong> page, near the top, to the right of the callback URL, click <span class="image"><img src="images/tutorials/CopyCallback.png" alt="Copy Callback URL"></span>to copy the callback URL for your installation of Syndesis to the clipboard. You will need this URL later in this procedure.</p></li><li><p>Click the <strong>Twitter</strong> entry to display the <strong>Consumer API Key</strong> and <strong>Consumer API Secret Key</strong> fields.</p></li></ol></div></li><li><p>In another browser tab, go to your <a href="https://developer.twitter.com/apps">Twitter developer account</a>, sign in if you need to, and do the following:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>In the upper right, next to the name of your developer project, click the down caret and click <strong>Apps</strong>.</p></li><li><p>In the upper right, click <strong>Create an app</strong>.</p></li><li><p>In the <strong>App name</strong> field, enter a name such as <strong>My Syndesis Client</strong>.</p></li><li><p>In the <strong>Application description</strong> field, enter a tip such as <strong>For leveraging tweets</strong>.</p></li><li><p>In the <strong>Website URL</strong> field, paste the URL that you copied at the beginning of this procedure and remove <code>api/v1/credentials/callback</code> from the end of the URL.</p></li><li><p>Select <strong>Enable Sign in with Twitter</strong>.</p></li><li><p>In the <strong>Callback URLs</strong> field, paste the URL again. It should be something like this: <code>https://app-proj912876.7b63.fuse-ignite.openshiftapps.com/api/v1/credentials/callback</code>.</p><div class="paragraph"><p>You can skip the next few fields.</p></div></li><li><p><strong>Tell us how this app will be used</strong> requires a 100-character description. For convenience, you can copy and paste: <code>This is a demo application so that I can evaluate how to integrate Twitter with my enterprise applications.</code></p></li><li><p>Click <strong>Create</strong>.</p></li><li><p>Click <strong>Create</strong> again to confirm that you reviewed the developer terms.</p></li><li><p>At the top of the page for the app you just created, click the <strong>Keys and tokens</strong> tab.</p></li><li><p>Copy the consumer API key.</p></li></ol></div></li><li><p>Return to your Syndesis <strong>Settings</strong> page and paste the Twitter consumer API key into the Syndesis Twitter <strong>Consumer API Key</strong> field.</p></li><li><p>Return to the Twitter <strong>Keys and tokens</strong> tab and copy the consumer API secret key.</p></li><li><p>Return to your Syndesis <strong>Settings</strong> page and paste the Twitter consumer API secret key into the Syndesis Twitter <strong>Consumer API Secret Key</strong> field.</p></li><li><p>Click <strong>Save</strong>.</p></li><li><p>Click the <strong>Twitter</strong> entry to collapse it.</p></li></ol></div></div><div class="sect2"><h3 id="create-twitter-connection_t2sf">Creating a Twitter connection</h3><div class="paragraph"><p>To create an integration that obtains data from Twitter, you must first create a Twitter connection. After you create a Twitter connection, you can use it in any number of integrations.</p></div><div class="ulist"><div class="title">Prerequisites</div><ul><li><p>You are logged in to Syndesis.</p></li><li><p>Syndesis is open in a web browser.</p></li><li><p>You registered your Syndesis environment as an application that can access Twitter.</p></li><li><p>You added the Twitter consumer API key and consumer API secret key that you received after registration to the Syndesis <strong>Settings</strong> page.</p></li></ul></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>In Syndesis, in the left panel, click <strong>Connections</strong> to display any available connections.</p></li><li><p>Click <strong>Create Connection</strong> to display the available connectors. A connector is a template that you use to create one or more connections.</p></li><li><p>Click the <strong>Twitter</strong> connector.</p></li><li><p>Click <strong>Connect Twitter</strong> to display a Twitter authorization page. You might need to log in to Twitter before you see the authorization page.</p><div class="paragraph"><p>If <strong>Connect Twitter</strong> does not appear, then your Syndesis environment is not registered as a Twitter client application. See <a href="https://zregvart.github.io/syndesis.io/manual/connecting/#register-with-twitter_twitter">Registering Syndesis as a Twitter client application</a>. When you try to create a Twitter connection and your Syndesis environment is not registered as a Twitter client application, then Syndesis displays multiple fields that prompt for authorization information. While you can create a Twitter connection by entering values in these fields, it is not recommended.</p></div></li><li><p>Click <strong>Authorize app</strong> to return to Syndesis.</p></li><li><p>In the <strong>Name</strong> field, enter your choice of a name that helps you distinguish this connection from any other connections. For example, enter <code><strong>Twitter Connect 1</strong></code>.</p></li><li><p>In the <strong>Description</strong> field, optionally enter any information that is helpful to know about this connection. For example, enter <code><strong>Sample Twitter connection that uses my Twitter login credentials.</strong></code></p></li><li><p>Click <strong>Save</strong> to see that the connection you created is now available. If you entered the example name, you would see that <strong>Twitter Connect 1</strong> appears as a connection that you can choose to add to an integration.</p></li></ol></div></div><div class="sect2"><h3 id="register-with-salesforce_t2sf">Registering Syndesis as a Salesforce client application</h3><div class="paragraph"><p>In an integration, to connect to Salesforce, the first thing you must do is register your Syndesis environment as a client application that can access Salesforce. This lets you create any number of integrations that connect to Salesforce. In other words, you need to register a particular Syndesis environment with Salesforce only once.</p></div><div class="paragraph"><p>In each Syndesis environment, there can be only one registration of Syndesis as a Salesforce client application. However, while each Salesforce connection uses the same registration, it can use different user credentials.</p></div><div class="paragraph"><p>If you already registered Syndesis as a Salesforce client and created a Salesforce connection, skip to <a href="https://zregvart.github.io/syndesis.io/manual/tutorials/#create-twitter-sf-integration_t2sf">Creating and deploying the Twitter to Salesforce integration</a>.</p></div><div class="paragraph"><div class="title">Prerequisite</div><p>You are logged in to Syndesis.</p></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>In Syndesis:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>In the left panel, click <strong>Settings</strong>.</p></li><li><p>On the <strong>Settings</strong> page, near the top, to the right of the callback URL, click <span class="image"><img src="images/tutorials/CopyCallback.png" alt="Copy Callback URL"></span>to copy the callback URL for your Syndesis environment to the clipboard. You will need this URL toward the end of this procedure.</p></li><li><p>Click the <strong>Salesforce</strong> entry to display the <strong>Client ID</strong> and <strong>Client Secret</strong> fields.</p></li></ol></div></li><li><p>In another browser tab, log in to your Salesforce account and follow the steps below to create a connected app. These instructions assume that you are using the Salesforce Classic user interface. To switch from the Salesforce Lightning Experience interface, click your profile icon and select <strong>Switch to Salesforce Classic</strong>. For additional information, see the Salesforce documentation for <a href="https://help.salesforce.com/articleView?id=connected_app_create.htm">Create a Connected App</a>.</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>In Salesforce, in the upper right, click <strong>Setup</strong>.</p></li><li><p>In the left panel, select <strong>Build</strong> &gt; <strong>Create</strong> &gt; <strong>Apps</strong>.</p></li><li><p>Scroll down to <strong>Connected Apps</strong> and click <strong>New</strong>.</p></li><li><p>Enter the required information and then select <strong>Enable OAuth Settings</strong>.</p></li><li><p>In the <strong>Callback URL</strong> field, paste your Syndesis URL, which you copied at the beginning of this procedure. For example: <code>https://app-proj912876.7b63.fuse-ignite.openshiftapps.com/api/v1/credentials/callback</code>.</p></li><li><p>For <strong>OAuth Scopes</strong>, add:</p><div class="ulist"><ul><li><p><strong>Access and manage your data (api)</strong></p></li><li><p><strong>Allow access to your unique identifier (openid)</strong></p></li><li><p><strong>Perform requests on your behalf at any time (refresh_token, offline_accesss)</strong></p></li></ul></div></li><li><p>Select <strong>Configure ID token</strong> and then <strong>Include Standard Claims</strong>.</p></li><li><p>Scroll down and click <strong>Save</strong>.</p></li><li><p>Scroll up to see that Salesforce indicates a short wait: <span class="image"><img src="images/tutorials/SF-message-to-wait-a-few-minutes.png" alt="SF message to wait a few minutes" title="Short Wait"></span></p></li><li><p>Click <strong>Continue</strong>.</p></li><li><p>Copy the consumer key that Salesforce provides.</p></li></ol></div></li><li><p>Return to your Syndesis <strong>Settings</strong> page and paste the Salesforce-provided consumer key into the Syndesis Salesforce <strong>Client ID</strong> field.</p></li><li><p>Return to Salesforce and copy the consumer secret that Salesforce provides.</p></li><li><p>Return to your Syndesis <strong>Settings</strong> page and paste the Salesforce-provided consumer secret into the Syndesis Salesforce <strong>Client Secret</strong> field.</p></li><li><p>Click <strong>Save</strong>.</p></li><li><p>Click the <strong>Salesforce</strong> entry to collapse it.</p></li></ol></div></div><div class="sect2"><h3 id="create-salesforce-connection_t2sf">Creating a Salesforce connection</h3><div class="paragraph"><p>To create an integration that accesses data in Salesforce, you must first create a Salesforce connection. After you create a Salesforce connection, you can use it in multiple integrations.</p></div><div class="ulist"><div class="title">Prerequisites</div><ul><li><p>You are logged in to Syndesis.</p></li><li><p>Syndesis is open in a web browser.</p></li><li><p>You must have already registered your Syndesis environment as an application that can access Salesforce.</p></li><li><p>You added the Salesforce client ID and client secret that you received after registration to the Syndesis <strong>Settings</strong> page.</p><div class="paragraph"><p>If you did not already register Syndesis, see <a href="https://zregvart.github.io/syndesis.io/manual/tutorials/#register-with-salesforce_t2sf">Registering Syndesis as a Salesforce client application</a>.</p></div><div class="paragraph"><p>Be sure to wait 2 - 10 minutes after registering your Syndesis installation as a Salesforce client before you try to create a Salesforce connection.</p></div></li></ul></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>In Syndesis, in the left panel, click <strong>Connections</strong> to display available connections.</p></li><li><p>Click <strong>Create Connection</strong> to display the available connectors. A connector is a template for creating one or more connections.</p></li><li><p>Click the <strong>Salesforce</strong> connector.</p></li><li><p>Click <strong>Connect Salesforce</strong> to display a Salesforce authorization page. You might need to log in to Salesforce before you see the authorization page.</p><div class="paragraph"><p>If <strong>Connect Salesforce</strong> does not appear, then your Syndesis environment is not registered as a Salesforce client application. See <a href="https://zregvart.github.io/syndesis.io/manual/connecting/#register-with-sf_salesforce">Registering Syndesis as a Salesforce client application</a>. When you try to create a Salesforce connection and your Syndesis environment is not registered as a Salesforce client application, then Syndesis displays multiple fields that prompt for authorization information. While you can create a Salesforce connection by entering values in these fields, it is not recommended.</p></div><div class="admonitionblock note"><table><tr><td class="icon"><div class="title">Note</div></td><td class="content"><div class="paragraph"><p>The following error indicates that Salesforce does not have the correct Syndesis callback URL:</p></div><div class="paragraph"><p><code>error=redirect_uri_mismatch&amp;error_description=redirect_uri%20must%20match%20configuration</code></p></div><div class="paragraph"><p>If you get this error message, then in Salesforce, ensure that the Syndesis callback URL is specified according to the instructions in <a href="https://zregvart.github.io/syndesis.io/manual/connecting/#register-with-salesforce_salesforce">Registering Syndesis as a Salesforce client application</a>.</p></div></td></tr></table></div></li><li><p>Click <strong>Allow</strong> to return to Syndesis.</p></li><li><p>In the <strong>Name</strong> field, enter your choice of a name that helps you distinguish this connection from any other connections. For example, enter <code><strong>SF Connect 1</strong></code>.</p></li><li><p>In the <strong>Description</strong> field, optionally enter any information that is helpful to know about this connection. For example, enter <code><strong>Sample Salesforce connection that uses my Salesforce login credentials.</strong></code></p></li><li><p>Click <strong>Save</strong> to see that the connection you created is now available. If you entered the example name, you would see that <strong>SF Connect 1</strong> appears as a connection that you can choose to add to an integration.</p></li></ol></div></div><div class="sect2"><h3 id="create-twitter-sf-integration_t2sf">Creating and deploying the Twitter to Salesforce sample integration</h3><div class="paragraph"><p>To create and deploy an integration that uses the Twitter and Salesforce connections that you created, the main steps are:</p></div><div class="ulist"><ul><li><p><a href="#t2sf-choose-start-connection_t2sf-create">Choosing the start connection</a></p></li><li><p><a href="#t2sf-choose-finish-connection_t2sf-create">Choosing the finish connection</a></p></li><li><p><a href="#t2sf-add-basic-filter-step_t2sf-create">Adding a basic filter step</a></p></li><li><p><a href="#t2sf-add-data-mapping-step_t2sf-create">Adding a data mapping step</a></p></li><li><p><a href="#t2sf-name-and-publish_t2sf-create">Giving the integration a name and deploying it</a></p></li></ul></div><div class="ulist"><div class="title">Prerequisites</div><ul><li><p>You registered your Syndesis environment as a Twitter client and created a Syndesis Twitter connection.</p></li><li><p>You registered your Syndesis environment as a Salesforce client and created a Syndesis Salesforce connection.</p></li><li><p>Syndesis is open and you are logged in.</p></li></ul></div><div class="sect3"><h4 id="t2sf-choose-start-connection_t2sf-create">Choosing the start connection</h4><div class="paragraph"><p>In Syndesis, to create the sample Twitter to Salesforce integration, the first task is to choose the start connection.</p></div><div class="ulist"><div class="title">Prerequisites</div><ul><li><p>You created a Twitter connection.</p></li></ul></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>On the left, click <strong>Integrations</strong>.</p></li><li><p>Click <strong>Create Integration</strong>.</p></li><li><p>On the <strong>Choose a connection</strong> page, click the Twitter connection that you created. If you gave it the example name, you would click <strong>Twitter Connect 1</strong>. When the integration starts, it uses the credentials defined in this connection to connect to Twitter.</p></li><li><p>On the <strong>Choose an action</strong> page, to the right of the <strong>Mention</strong> action entry, click <strong>Select</strong>.</p></li><li><p>On the <strong>Configure the action</strong> page, click <strong>Next</strong>. No configuration is required.</p></li></ol></div><div class="paragraph"><div class="title">Next step</div><p>When the integration is running, after connecting to Twitter, the integration monitors Twitter for mentions that include your Twitter screen name. A match triggers the next step in the integration. However, before you add steps that operate on data between connections, you choose the connection that the integration uses to finish its work.</p></div></div><div class="sect3"><h4 id="t2sf-choose-finish-connection_t2sf-create">Choosing the finish connection</h4><div class="paragraph"><p>In Syndesis, to continue creating the Twitter to Salesforce sample integration, after you add the start connection, you add the finish connection to the integration.</p></div><div class="ulist"><div class="title">Prerequisites</div><ul><li><p>You added the Twitter connection to the integration as the start connection.</p></li><li><p>Syndesis is prompting you to add the finish connection.</p></li><li><p>You created a Salesforce connection.</p></li></ul></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>On the <strong>Choose a connection</strong> page, click the Salesforce connection that you created. If you gave it the example name, you would click <strong>SF Connect 1</strong>. This integration finishes by using the credentials defined in this connection to connect to Salesforce.</p></li><li><p>On the <strong>Choose an action</strong> page, to the right of the <strong>New record</strong> entry, click <strong>Select</strong>.</p></li><li><p>On the <strong>Configure the action</strong> page, click in the <strong>Object name</strong> field and select <strong>Contact</strong> as the Salesforce record to create.</p></li><li><p>Click <strong>Next</strong> to add the finish connection to the integration.</p></li></ol></div></div><div class="sect3"><h4 id="t2sf-add-basic-filter-step_t2sf-create">Adding a basic filter step</h4><div class="paragraph"><p>In Syndesis, to continue creating the Twitter to Salesforce sample integration, add a basic filter step that checks tweets that mention you for particular content. At integration execution time, processing continues only if that content is present.</p></div><div class="ulist"><div class="title">Prerequisites</div><ul><li><p>You added the Twitter connection as the integration&#8217;s start connection.</p></li><li><p>You just added the Salesforce connection as the integration&#8217;s finish connection.</p></li></ul></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>In the integration visualization, click the plus sign, which displays the steps that you can add to the integration.</p></li><li><p>Click <strong>Basic Filter</strong>.</p></li><li><p>In the <strong>Property Name</strong> field, start to enter <code><strong>text</strong></code> and when <code>text</code> appears below the field, click it. The Twitter <code>text</code> field, which contains a tweet, is the data that you want the filter to evaluate.</p></li><li><p>In the <strong>Operator</strong> field, accept <strong>contains</strong> as the condition to be met for the integration to continue.</p></li><li><p>In the <strong>Keywords</strong> field, enter <code><strong>#RedHatIsGreat</strong></code> or some other text that you choose for the value to check for. A tweet that mentions you must contain the text you enter here for the integration to continue operating on this data.</p></li><li><p>Click <strong>Done</strong> to add the basic filter step to the integration.</p></li></ol></div></div><div class="sect3"><h4 id="t2sf-add-data-mapping-step_t2sf-create">Adding a data mapping step</h4><div class="paragraph"><p>To continue creating the Twitter to Salesforce sample integration, add a data mapping step that correlates Twitter mention fields to Salesforce contact fields.</p></div><div class="ulist"><div class="title">Prerequisites</div><ul><li><p>The integration&#8217;s start connection is to Twitter.</p></li><li><p>The integration&#8217;s finish connection is to Salesforce.</p></li><li><p>You just added the filter step between the two connections.</p></li></ul></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>In Syndesis, in the integration visualization, click the plus sign that is between the filter step and the finish connection.</p></li><li><p>Click <strong>Data Mapper</strong> and wait a few moments. When the data fields appear, the <strong>Sources</strong> panel on the left displays the Twitter fields and the <strong>Target</strong> panel on the right displays the Salesforce fields.</p></li><li><p>Map the Twitter <code>name</code> field to the Salesforce <code>FirstName</code> and <code>LastName</code> fields:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>In the <strong>Sources</strong> panel, click the magnifying glass <span class="image"><img src="images/tutorials/magnifying-glass.png" alt="magnifying glass" title="Magnifying Glass"></span>to display the search field and enter <code><strong>name</strong></code>.</p></li><li><p>Under the <code>user</code> folder, click the <code>name</code> field and then click the <strong>Create New Mapping</strong> icon.</p></li><li><p>In the <strong>Mapping Details</strong> panel, in the <strong>Targets</strong> field, type <strong>FirstName</strong> to filter the list of target fields and then select <strong>/FirstName</strong>. The data mapper displays a line from the source <strong>name</strong> field to the target <strong>FirstName</strong> field.</p></li><li><p>In the <strong>Mapping Details</strong> panel, in the <strong>Targets</strong> field, type <strong>LastName</strong> to filter the list of target fields and then select <strong>/LastName</strong>.</p><div class="paragraph"><p>The data mapper displays another line from the Twitter <strong>name</strong> field, but this time it goes to the Salesforce <strong>LastName</strong> field. The blue lines indicate the current focus.</p></div><div class="admonitionblock note"><table><tr><td class="icon"><div class="title">Note</div></td><td class="content"><div class="paragraph"><p>If you accidentally map the wrong fields then delete the incorrect mapping by clicking the trash can icon in the data mapperâ€™s <strong>Mapping Details</strong> panel.</p></div></td></tr></table></div></li></ol></div></li><li><p>Map the Twitter <code>screenName</code> field to the Salesforce <code>Title</code> field:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>In the <strong>Sources</strong> panel, click the <strong>screenName</strong> field.</p></li><li><p>On the right, at the top of the <strong>Target</strong> panel, click the magnifying glass <span class="image"><img src="images/tutorials/magnifying-glass.png" alt="magnifying glass" title="Magnifying Glass"></span>to display the search field and enter <code><strong>Title</strong></code>.</p></li><li><p>Click the <strong>Title</strong> field. The data mapper displays a line from the Twitter <strong>screenName</strong> field to the Salesforce <strong>Title</strong> field.</p></li></ol></div></li><li><p>Map the Twitter <code>text</code> field to the Salesforce <code>Description</code> field:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>In the <strong>Sources</strong> search field, enter <code><strong>text</strong></code> and click the <strong>text</strong> field. Be sure to click the toplevel <strong>text</strong> field. Do not click one of the <strong>text</strong> fields that is contained in the <strong>user</strong> field.</p></li><li><p>In the <strong>Target</strong> search field, enter <code><strong>description</strong></code>.</p></li><li><p>Click the Salesforce <strong>Description</strong> field to create the mapping.</p></li></ol></div></li><li><p>In the upper right, click the grid icon <span class="image"><img src="images/tutorials/grid.png" alt="grid" title="Grid"></span>to display the list of mappings, which should look like this: <span class="image"><img src="images/tutorials/t2sf-mappings.png" alt="Data Mappings"></span></p></li><li><p>In the upper right, click <strong>Done</strong>.</p></li></ol></div></div><div class="sect3"><h4 id="t2sf-name-and-publish_t2sf-create">Giving the integration a name and deploying it</h4><div class="paragraph"><p>When the Twitter to Salesforce sample integration is complete then you can deploy it and see how it works.</p></div><div class="ulist"><div class="title">Prerequisites</div><ul><li><p>The integration&#8217;s start connection is Twitter.</p></li><li><p>The integration&#8217;s finish connection is Salesforce.</p></li><li><p>The integration has a filter step.</p></li><li><p>You just added a data mapping step to the integration.</p></li></ul></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>In the upper right corner, click <strong>Publish</strong>.</p></li><li><p>In the <strong>Name</strong> field, enter a name of your choice that distinguishes this integration from any other integrations. For example: <code><strong>Twitter to Salesforce Sample Integration</strong></code>.</p></li><li><p>In the <strong>Description</strong> field, optionally enter some information about the integration.</p></li><li><p>Click <strong>Save and publish</strong>.</p><div class="paragraph"><p>Syndesis starts to deploy the integration and then displays the integration summary. Near the top, you can see a progress indicator that shows the publishing stages. Syndesis is generating the runtime for the integration and will start it when the runtime is ready. This takes a few minutes.</p></div><div class="paragraph"><p>A Syndesis account is limited to a specific number of integrations that can be running at one time. For details, see the pricing plan. If you are already running the maximum number of integrations, then you must stop an integration before you can start running another one.</p></div></li><li><p>If you are already running the maximum number of integrations, follow these steps to stop an integration:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>In the left panel, click <strong>Integrations</strong>.</p></li><li><p>In the entry for the integration that you want to stop, click <span class="image"><img src="images/tutorials/ThreeVerticalDotsKebab.png" alt="ThreeVerticalDotsKebab" title="the three vertical dots"></span>on the far right.</p></li><li><p>In the popup, click <strong>Stop</strong>.</p></li></ol></div></li><li><p>After stopping an integration, start another integration as follows:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>In the left panel, click <strong>Integrations</strong>.</p></li><li><p>In the entry for the integration that you want to start, click <span class="image"><img src="images/tutorials/ThreeVerticalDotsKebab.png" alt="ThreeVerticalDotsKebab" title="the three vertical dots"></span>on the far right.</p></li><li><p>In the popup, click <strong>Start</strong>.</p></li></ol></div></li></ol></div></div></div><div class="sect2"><h3 id="t2sf-confirm-working_t2sf">Confirming that the Twitter to Salesforce integration works</h3><div class="paragraph"><p>To confirm that the Twitter to Salesforce sample integration is working, create some tweets and check for results in Salesforce.</p></div><div class="ulist"><div class="title">Prerequisites</div><ul><li><p>In Syndesis, <strong>Running</strong> appears next to the name that you specified for the Twitter to Salesforce sample integration when you published it.</p></li><li><p>You can access your Twitter and Salesforce accounts.</p></li></ul></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>In Syndesis in the panel on the left, click <strong>Integrations</strong> to see that the integration you created is a <strong>Running</strong> integration. If you entered the example name, you would see that <strong>Twitter to Salesforce Sample Integration</strong> is running.</p></li><li><p>Confirm that the integration does not create a contact record when a tweet does not contain the text you specified in the basic filter step:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>In Twitter, send a tweet that:</p><div class="ulist"><ul><li><p>Mentions your Twitter handle</p></li><li><p>Does not contain the text that you specified in the basic filter step</p><div class="paragraph"><p>For example: <code><strong>@Aslan #likesRedHat.</strong></code></p></div></li></ul></div></li><li><p>Wait for the polling interval to elapse, which can be 30 - 60 seconds.</p></li><li><p>In Salesforce, confirm that there is <strong>not</strong> a new contact record for the name that is associated with the Twitter account that you used to tweet.</p></li></ol></div></li><li><p>Confirm that the integration creates a new contact record when it should:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>In Twitter, send a tweet that:</p><div class="ulist"><ul><li><p>Mentions your Twitter handle</p></li><li><p>Contains the text that you specified in the basic filter step</p><div class="paragraph"><p>For example: <code><strong>@Aslan knows #RedHatIsGreat.</strong></code></p></div></li></ul></div></li><li><p>Wait for the polling interval to elapse.</p></li><li><p>In Salesforce, do the following:</p><div class="olist lowerroman"><ol class="lowerroman" type="i"><li><p>Log in to your regular Salesforce account, not your Salesforce developer account.</p></li><li><p>On your home page, under <strong>Recent Items</strong> you should see your new contact.</p></li><li><p>Click on it to view the details.</p><div class="paragraph"><p>The new contact record should have the name that is associated with the Twitter account that you used to tweet. The text of your tweet should be in the <strong>Description</strong> field, and your Twitter screen name should be in the <strong>Title</strong> field.</p></div></li></ol></div></li></ol></div></li><li><p>Optionally, view the integration log to troubleshoot an unexpected result or to learn more about integration execution:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>In Syndesis, in the left panel, click <strong>Integrations</strong>.</p></li><li><p>View your Twitter to Salesforce integration.</p></li><li><p>In the integration&#8217;s summary page, click the <strong>Activity</strong> tab.</p></li><li><p>Click the integration execution for which you want to view activity information.</p></li></ol></div></li></ol></div></div><div class="sect2"><h3 id="cleanup_t2sf">Cleaning up your integration</h3><div class="paragraph"><p>When you are done working with a sample integration, you should stop it and delete it so that you can use the resources for another integration.</p></div><div class="ulist"><div class="title">Prerequisites</div><ul><li><p>You are finished working with a sample integration that you published.</p></li></ul></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>In Syndesis, in the left panel, click <strong>Integrations</strong>.</p></li><li><p>In the main panel, identify the entry for the sample integration that you want to stop.</p></li><li><p>In that entry, to the right, click <span class="image"><img src="images/tutorials/ThreeVerticalDotsKebab.png" alt="Kebab Menu"></span>and then click <strong>Stop</strong>.</p></li><li><p>Click <strong>Stop</strong> to confirm that you want to stop running the integration.</p></li><li><p>In the entry for the integration that you just stopped, to the right, click <span class="image"><img src="images/tutorials//ThreeVerticalDotsKebab.png" alt="Kebab Menu"></span>and then click <strong>Delete</strong>.</p></li><li><p>Click <strong>Delete</strong> to confirm that you want to delete the integration.</p></li></ol></div></div></div></div><div class="sect1"><h2 id="salesforce-to-db_tutorials">Implementing the Salesforce to database sample integration</h2><div class="sectionbody"><div class="paragraph"><p>This sample integration captures updates in Salesforce and then calls a database stored procedure, which synchronizes that database with the Salesforce updates.</p></div><div class="ulist"><div class="title">Prerequisites</div><ul><li><p>You need an account in a Salesforce installation that is used for development. This account must have Salesforce API access, which is available in a Salesforce Enterprise account or a Salesforce Developer account. To obtain a free developer account, visit <a href="https://developer.salesforce.com/signup" class="bare">https://developer.salesforce.com/signup</a>. It takes less than two minutes to obtain a Salesforce account.</p><div class="paragraph"><p>If you already created the Twitter to Salesforce sample integration:</p></div><div class="ulist"><ul><li><p>Syndesis is already registered as a Salesforce client. You do not need to do this again.</p></li><li><p>You already have a Salesforce connection, which you can reuse in this sample integration.</p></li></ul></div><div class="paragraph"><p>If you did not already create the Twitter to Salesforce sample integration, then you must register Syndesis as a Salesforce client and create a Salesforce connection in order to complete the Salesforce to database sample integration.</p></div></li></ul></div><div class="paragraph"><p>To implement, deploy, and test this sample integration, the main steps are:</p></div><div class="olist arabic"><ol class="arabic"><li><p><a href="#register-with-salesforce_sf2db">Registering Syndesis as a Salesforce client application</a></p></li><li><p><a href="#create-salesforce-connection_sf2db">Creating a Salesforce connection</a></p></li><li><p><a href="#create-sf-db-integration_sf2db">Creating and deploying the Salesforce to database sample integration</a></p></li><li><p><a href="#sf2db-confirm-working_sf2db">Confirming that the Salesforce to database integration works</a></p></li><li><p><a href="#cleanup_sf2db">Cleaning up your integration</a></p></li></ol></div><div class="sect2"><h3 id="register-with-salesforce_sf2db">Registering Syndesis as a Salesforce client application</h3><div class="paragraph"><p>In an integration, to connect to Salesforce, the first thing you must do is register your Syndesis environment as a client application that can access Salesforce. This lets you create any number of integrations that connect to Salesforce. In other words, you need to register a particular Syndesis environment with Salesforce only once.</p></div><div class="paragraph"><p>In each Syndesis environment, there can be only one registration of Syndesis as a Salesforce client application. However, while each Salesforce connection uses the same registration, it can use different user credentials.</p></div><div class="paragraph"><p>If you already registered Syndesis as a Salesforce client and created a Salesforce connection, skip to <a href="https://zregvart.github.io/syndesis.io/manual/tutorials/#create-sf-db-integration_sf2db">Creating and deploying the Salesforce to database integration</a>.</p></div><div class="paragraph"><div class="title">Prerequisite</div><p>You are logged in to Syndesis.</p></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>In Syndesis:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>In the left panel, click <strong>Settings</strong>.</p></li><li><p>On the <strong>Settings</strong> page, near the top, to the right of the callback URL, click <span class="image"><img src="images/tutorials/CopyCallback.png" alt="Copy Callback URL"></span>to copy the callback URL for your Syndesis environment to the clipboard. You will need this URL toward the end of this procedure.</p></li><li><p>Click the <strong>Salesforce</strong> entry to display the <strong>Client ID</strong> and <strong>Client Secret</strong> fields.</p></li></ol></div></li><li><p>In another browser tab, log in to your Salesforce account and follow the steps below to create a connected app. These instructions assume that you are using the Salesforce Classic user interface. To switch from the Salesforce Lightning Experience interface, click your profile icon and select <strong>Switch to Salesforce Classic</strong>. For additional information, see the Salesforce documentation for <a href="https://help.salesforce.com/articleView?id=connected_app_create.htm">Create a Connected App</a>.</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>In Salesforce, in the upper right, click <strong>Setup</strong>.</p></li><li><p>In the left panel, select <strong>Build</strong> &gt; <strong>Create</strong> &gt; <strong>Apps</strong>.</p></li><li><p>Scroll down to <strong>Connected Apps</strong> and click <strong>New</strong>.</p></li><li><p>Enter the required information and then select <strong>Enable OAuth Settings</strong>.</p></li><li><p>In the <strong>Callback URL</strong> field, paste your Syndesis URL, which you copied at the beginning of this procedure. For example: <code>https://app-proj912876.7b63.fuse-ignite.openshiftapps.com/api/v1/credentials/callback</code>.</p></li><li><p>For <strong>OAuth Scopes</strong>, add:</p><div class="ulist"><ul><li><p><strong>Access and manage your data (api)</strong></p></li><li><p><strong>Allow access to your unique identifier (openid)</strong></p></li><li><p><strong>Perform requests on your behalf at any time (refresh_token, offline_accesss)</strong></p></li></ul></div></li><li><p>Select <strong>Configure ID token</strong> and then <strong>Include Standard Claims</strong>.</p></li><li><p>Scroll down and click <strong>Save</strong>.</p></li><li><p>Scroll up to see that Salesforce indicates a short wait: <span class="image"><img src="images/tutorials/SF-message-to-wait-a-few-minutes.png" alt="SF message to wait a few minutes" title="Short Wait"></span></p></li><li><p>Click <strong>Continue</strong>.</p></li><li><p>Copy the consumer key that Salesforce provides.</p></li></ol></div></li><li><p>Return to your Syndesis <strong>Settings</strong> page and paste the Salesforce-provided consumer key into the Syndesis Salesforce <strong>Client ID</strong> field.</p></li><li><p>Return to Salesforce and copy the consumer secret that Salesforce provides.</p></li><li><p>Return to your Syndesis <strong>Settings</strong> page and paste the Salesforce-provided consumer secret into the Syndesis Salesforce <strong>Client Secret</strong> field.</p></li><li><p>Click <strong>Save</strong>.</p></li><li><p>Click the <strong>Salesforce</strong> entry to collapse it.</p></li></ol></div></div><div class="sect2"><h3 id="create-salesforce-connection_sf2db">Creating a Salesforce connection</h3><div class="paragraph"><p>To create an integration that accesses data in Salesforce, you must first create a Salesforce connection. After you create a Salesforce connection, you can use it in multiple integrations.</p></div><div class="ulist"><div class="title">Prerequisites</div><ul><li><p>You are logged in to Syndesis.</p></li><li><p>Syndesis is open in a web browser.</p></li><li><p>You must have already registered your Syndesis environment as an application that can access Salesforce.</p></li><li><p>You added the Salesforce client ID and client secret that you received after registration to the Syndesis <strong>Settings</strong> page.</p><div class="paragraph"><p>If you did not already register Syndesis, see <a href="https://zregvart.github.io/syndesis.io/manual/tutorials/#register-with-salesforce_sf2db">Registering Syndesis as a Salesforce client application</a>.</p></div><div class="paragraph"><p>Be sure to wait 2 - 10 minutes after registering your Syndesis installation as a Salesforce client before you try to create a Salesforce connection.</p></div></li></ul></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>In Syndesis, in the left panel, click <strong>Connections</strong> to display available connections.</p></li><li><p>Click <strong>Create Connection</strong> to display the available connectors. A connector is a template for creating one or more connections.</p></li><li><p>Click the <strong>Salesforce</strong> connector.</p></li><li><p>Click <strong>Connect Salesforce</strong> to display a Salesforce authorization page. You might need to log in to Salesforce before you see the authorization page.</p><div class="paragraph"><p>If <strong>Connect Salesforce</strong> does not appear, then your Syndesis environment is not registered as a Salesforce client application. See <a href="https://zregvart.github.io/syndesis.io/manual/connecting/#register-with-sf_salesforce">Registering Syndesis as a Salesforce client application</a>. When you try to create a Salesforce connection and your Syndesis environment is not registered as a Salesforce client application, then Syndesis displays multiple fields that prompt for authorization information. While you can create a Salesforce connection by entering values in these fields, it is not recommended.</p></div><div class="admonitionblock note"><table><tr><td class="icon"><div class="title">Note</div></td><td class="content"><div class="paragraph"><p>The following error indicates that Salesforce does not have the correct Syndesis callback URL:</p></div><div class="paragraph"><p><code>error=redirect_uri_mismatch&amp;error_description=redirect_uri%20must%20match%20configuration</code></p></div><div class="paragraph"><p>If you get this error message, then in Salesforce, ensure that the Syndesis callback URL is specified according to the instructions in <a href="https://zregvart.github.io/syndesis.io/manual/connecting/#register-with-salesforce_salesforce">Registering Syndesis as a Salesforce client application</a>.</p></div></td></tr></table></div></li><li><p>Click <strong>Allow</strong> to return to Syndesis.</p></li><li><p>In the <strong>Name</strong> field, enter your choice of a name that helps you distinguish this connection from any other connections. For example, enter <code><strong>SF Connect 1</strong></code>.</p></li><li><p>In the <strong>Description</strong> field, optionally enter any information that is helpful to know about this connection. For example, enter <code><strong>Sample Salesforce connection that uses my Salesforce login credentials.</strong></code></p></li><li><p>Click <strong>Save</strong> to see that the connection you created is now available. If you entered the example name, you would see that <strong>SF Connect 1</strong> appears as a connection that you can choose to add to an integration.</p></li></ol></div></div><div class="sect2"><h3 id="create-sf-db-integration_sf2db">Creating and deploying the Salesforce to database sample integration</h3><div class="paragraph"><p>To create and deploy an integration that uses the Salesforce connection that you created and the database connection that is provided with Syndesis, the main steps are:</p></div><div class="ulist"><ul><li><p><a href="#sf2db-choose-start-connection_sf2db-create">Choosing the start connection</a></p></li><li><p><a href="#sf2db-choose-finish-connection_sf2db-create">Choosing the finish connection</a></p></li><li><p><a href="#sf2db-add-data-mapping-step_sf2db-create">Adding a data mapping step</a></p></li><li><p><a href="#sf2db-name-and-publish_sf2db-create">Giving the integration a name and deploying it</a></p></li></ul></div><div class="ulist"><div class="title">Prerequisites</div><ul><li><p>You registered your Syndesis environment as a Salesforce client.</p></li><li><p>You created a Syndesis Salesforce connection.</p></li><li><p>Syndesis is open and you are logged in.</p></li></ul></div><div class="sect3"><h4 id="sf2db-choose-start-connection_sf2db-create">Choosing the start connection</h4><div class="paragraph"><p>In Syndesis, to create the sample Salesforce to database integration, the first task is to choose the start connection.</p></div><div class="ulist"><div class="title">Prerequisites</div><ul><li><p>You created a Salesforce connection.</p></li></ul></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>In Syndesis, on the left, click <strong>Integrations</strong>.</p></li><li><p>Click <strong>Create Integration</strong>.</p></li><li><p>On the <strong>Choose a connection</strong> page, click your Salesforce connection. If you specified the example name, you would click <strong>SF Connect 1</strong>.</p></li><li><p>On the <strong>Choose an action</strong> page, to the right of <strong>On create</strong>, click <strong>Select</strong>.</p></li><li><p>In the <strong>Object name</strong> field, select <strong>Lead</strong>.</p></li><li><p>Click <strong>Next</strong> to add the start connection to the integration.</p></li></ol></div><div class="paragraph"><div class="title">Next step</div><p>When the integration is running, after connecting to Salesforce, the integration watches for notifications that a Salesforce <strong>Lead</strong> record was created. When the integration finds such a notification, it passes the new lead&#8217;s data to the next step in the integration. However, before you can add the next step, you must choose the integration&#8217;s finish connection.</p></div></div><div class="sect3"><h4 id="sf2db-choose-finish-connection_sf2db-create">Choosing the finish connection</h4><div class="paragraph"><p>In Syndesis, to continue creating the Salesforce to database sample integration, after you add the start connection, you add the finish connection to the integration.</p></div><div class="ulist"><div class="title">Prerequisites</div><ul><li><p>You added the Salesforce connection to the integration as the start connection.</p></li><li><p>Syndesis is prompting you to add the finish connection.</p></li></ul></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>In Syndesis, on the <strong>Choose a connection</strong> page, click the <strong>PostgresDB</strong> connection. This integration finishes by using the credentials defined in this database connection to connect to the provided sample database.</p></li><li><p>On the <strong>Choose an action</strong> page, select <strong>Invoke stored procedure</strong>, which passes data to a stored procedure.</p></li><li><p>In the <strong>Procedure name</strong> field, accept <strong>add_lead</strong>, which is the provided stored procedure to run in the sample database. The selected procedure determines the requirements for additional steps in the integration, for example, which Salesforce data fields need to be mapped to which database fields.</p></li><li><p>Click <strong>Next</strong> to add the finish connection to the integration.</p></li></ol></div></div><div class="sect3"><h4 id="sf2db-add-data-mapping-step_sf2db-create">Adding a data mapping step</h4><div class="paragraph"><p>To continue creating the Salesforce to database sample integration, add a data mapping step that correlates Salesforce lead fields to fields in the sample database.</p></div><div class="ulist"><div class="title">Prerequisites</div><ul><li><p>The integration&#8217;s start connection is to Salesforce.</p></li><li><p>The integration&#8217;s finish connection is to the PostgresDB sample database.</p></li></ul></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>In Syndesis, in the integration visualization, click the plus sign.</p></li><li><p>Click <strong>Data Mapper</strong> and wait a few moments. When the data fields appear, the <strong>Sources</strong> panel on the left displays the Salesforce fields and the <strong>Target</strong> panel on the right displays the database fields.</p></li><li><p>Map the Salesforce <code>Company</code> field to the database <code>company</code> field. On the left, in the <strong>Sources</strong> panel, click <strong>Company</strong> and drag it to the <strong>Target</strong> panel onto <strong>company</strong>.</p><div class="paragraph"><p>The data mapper displays a line from the source field to the target field.</p></div></li><li><p>Map the <strong>Sources</strong> (Salesforce) <code>Email</code> field to the <strong>Target</strong> (database) <code>email</code> field.</p></li><li><p>Map two Salesforce fields (<code>FirstName</code> and <code>LastName</code>) to the database <code>first_and_last_name</code> field:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>In the <strong>Target</strong> panel, click <strong>first_and_last_name</strong> and then click the <strong>Create New Mapping</strong> icon.</p></li><li><p>In the <strong>Mapping Details</strong> panel, in the <strong>Sources</strong> field, select <strong>/FirstName</strong> and then select <strong>/LastName</strong>.</p><div class="paragraph"><p>When you are done you should see a line from each of the source fields to the target field.</p></div></li></ol></div></li><li><p>Add the following mappings:</p><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width:50%"><col style="width:50%"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Map This Salesforce Field</th><th class="tableblock halign-left valign-top">To This Database Field</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>LeadSource</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><code>lead_source</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>Status</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><code>lead_status</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>Phone</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><code>phone</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>Rating</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><code>rating</code></p></td></tr></tbody></table></li><li><p>In the upper right, click <strong>Done</strong>.</p></li></ol></div></div><div class="sect3"><h4 id="sf2db-name-and-publish_sf2db-create">Giving the integration a name and deploying it</h4><div class="paragraph"><p>When the Salesforce to database sample integration is complete then you can deploy it and see how it works.</p></div><div class="ulist"><div class="title">Prerequisites</div><ul><li><p>The integration&#8217;s start connection is Salesforce.</p></li><li><p>The integration&#8217;s finish connection is to the sample database that is provided with Syndesis.</p></li><li><p>You just added a data mapping step to the integration.</p></li></ul></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>In Syndesis, in the upper right, click <strong>Publish</strong> to give it a name.</p></li><li><p>In the <strong>Name</strong> field, enter a name for the integration. For example, <code><strong>Salesforce to Database Sample Integration</strong></code>.</p></li><li><p>Click <strong>Save and publish</strong>.</p><div class="paragraph"><p>Syndesis starts to deploy the integration and then displays the list of integrations in this environment. The entry for your Salesforce to database integration displays a progress indicator that shows the publishing stages. Syndesis is generating the runtime for the integration and will start it when the runtime is ready. This takes a few minutes.</p></div><div class="paragraph"><p>A Syndesis account is limited to a specific number of integrations that can be running at one time. For details, see the pricing plan. If you are already running the maximum number of integrations, then you must stop an integration before you can start running another one.</p></div></li><li><p>If you are already running the maximum number of integrations, follow these steps to stop an integration:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>In the left panel, click <strong>Integrations</strong>.</p></li><li><p>In the entry for the integration that you want to stop, click <span class="image"><img src="images/tutorials/ThreeVerticalDotsKebab.png" alt="ThreeVerticalDotsKebab" title="the three vertical dots"></span>on the far right.</p></li><li><p>In the popup, click <strong>Stop</strong>.</p></li></ol></div></li><li><p>After stopping an integration, start another integration as follows:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>In the left panel, click <strong>Integrations</strong>.</p></li><li><p>In the entry for the integration that you want to start, click <span class="image"><img src="images/tutorials/ThreeVerticalDotsKebab.png" alt="ThreeVerticalDotsKebab" title="the three vertical dots"></span>on the far right.</p></li><li><p>In the popup, click <strong>Publish</strong>.</p></li></ol></div></li></ol></div></div></div><div class="sect2"><h3 id="sf2db-confirm-working_sf2db">Confirming that the Salesforce to database integration works</h3><div class="paragraph"><p>To confirm that the Salesforce to database integration is working, create a new lead in Salesforce and then open the web app that Syndesis provides for viewing updates to the sample database.</p></div><div class="ulist"><div class="title">Prerequisites</div><ul><li><p>In Syndesis, <strong>Running</strong> appears next to the name that you specified for the Salesforce to database sample integration when you published it.</p></li><li><p>You can access your Salesforce account.</p></li></ul></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>In the left panel, click <strong>Integrations</strong>.</p></li><li><p>If necessary, wait until your sample integration is a <strong>Running</strong> integration. If you used the example name, you would see that <strong>Salesforce to Database Sample Integration</strong> is <strong>Running</strong>.</p></li><li><p>In your Salesforce installation, create a new lead. Be sure to enter data in the fields that you mapped: <strong>Company</strong>, <strong>Email</strong>, <strong>FirstName</strong>, <strong>LastName</strong>, <strong>LeadSource</strong>, <strong>Status</strong>, <strong>Phone</strong>, and <strong>Rating</strong>.</p></li><li><p>In a new browser window, insert <code><strong>todo-</strong></code> in front of the URL for your Syndesis environment. For example: <code>http://todo-app-proj761432.6a63.fuse-ignite.openshiftapps.com/</code>.</p><div class="paragraph"><p>Your Syndesis environment provides the To Do app, which has a REST API for accessing a database that contains tasks. In the AMQ to REST API sample integration tutorial, there are instructions for uploading an OpenAPI document for the To Do app to create an API client connector.</p></div></li><li><p>In the <strong>To Do App</strong> display, you should see a notification that a new lead was created in the database.</p></li><li><p>Optionally, view the integration log to troubleshoot an unexpected result or to learn more about integration execution:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>In Syndesis, in the left panel, click <strong>Integrations</strong>.</p></li><li><p>View your Salesforce to database integration.</p></li><li><p>In the integration&#8217;s summary page, click the <strong>Activity</strong> tab.</p></li><li><p>Click the integration execution for which you want to view activity information.</p></li></ol></div></li></ol></div></div><div class="sect2"><h3 id="cleanup_sf2db">Cleaning up your integration</h3><div class="paragraph"><p>When you are done working with a sample integration, you should stop it and delete it so that you can use the resources for another integration.</p></div><div class="ulist"><div class="title">Prerequisites</div><ul><li><p>You are finished working with a sample integration that you published.</p></li></ul></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>In Syndesis, in the left panel, click <strong>Integrations</strong>.</p></li><li><p>In the main panel, identify the entry for the sample integration that you want to stop.</p></li><li><p>In that entry, to the right, click <span class="image"><img src="images/tutorials/ThreeVerticalDotsKebab.png" alt="Kebab Menu"></span>and then click <strong>Stop</strong>.</p></li><li><p>Click <strong>Stop</strong> to confirm that you want to stop running the integration.</p></li><li><p>In the entry for the integration that you just stopped, to the right, click <span class="image"><img src="images/tutorials//ThreeVerticalDotsKebab.png" alt="Kebab Menu"></span>and then click <strong>Delete</strong>.</p></li><li><p>Click <strong>Delete</strong> to confirm that you want to delete the integration.</p></li></ol></div></div></div></div><div class="sect1"><h2 id="amq-to-rest-api_tutorials">Implementing the AMQ to REST API sample integration</h2><div class="sectionbody"><div class="paragraph"><p>This sample integration connects to a Red Hat AMQ broker to obtain item delivery records for a hypothetical enterprise. The integration then executes a custom step that operates on the records to identify any items that were damaged when they were received. After a simple data mapping, the integration connects to a REST API to obtain contact information for vendors of damaged items.</p></div><div class="paragraph"><p>The other sample integrations use connectors and data operations that are built into Syndesis. This integration also does that, but in addition, it provides instructions for customizing and extending Syndesis by leading you through the procedures for:</p></div><div class="ulist"><ul><li><p>Adding a custom data operation by uploading an extension.</p></li><li><p>Adding a custom REST API client connector by uploading an OpenAPI document.</p></li></ul></div><div class="paragraph"><p>Syndesis provides the extension file and the OpenAPI document.</p></div><div class="paragraph"><p>To implement the AMQ to REST API sample integration, the main steps are:</p></div><div class="olist arabic"><ol class="arabic"><li><p><a href="#amq2api-create-amq-connection_amq2api">Creating an AMQ connection</a></p></li><li><p><a href="#amq2api-create-custom-step_amq2api">Making a custom step available</a></p></li><li><p><a href="#amq2api-create-rest-api-connector_amq2api">Creating a REST API connector</a></p></li><li><p><a href="#amq2api-upload-todo-app-icon_amq2api">Uploading the To Do app icon</a></p></li><li><p><a href="#amq2api-create-rest-api-connection_amq2api">Creating a REST API connection</a></p></li><li><p><a href="#amq2api-create-integration_amq2api">Creating and deploying the AMQ to REST API sample integration</a></p></li><li><p><a href="#amq2api-confirm-works_amq2api">Confirming that the AMQ to REST API integration works</a></p></li><li><p><a href="#cleanup_amq2api">Cleaning up your integration</a></p></li></ol></div><div class="sect2"><h3 id="amq2api-create-amq-connection_amq2api">Creating an AMQ connection</h3><div class="paragraph"><p>The AMQ to REST API sample integration starts by connecting to an AMQ broker (Red Hat AMQ) that is provided in your OpenShift project. Before you start to create the integration itself, you must start the broker and create a connection to that broker.</p></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>Verify that the broker has started:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>In a browser, go to your OpenShift web console.</p></li><li><p>In the console, click <strong>Project</strong>.</p></li><li><p>On the <strong>Overview</strong> page, in the <strong>Inventory</strong> section, click <strong>Services</strong>.</p></li><li><p>Click <strong>broker-amq-tcp</strong> and then click <strong>Pods</strong>. The status of the pod should be <code>Running</code>.</p></li></ol></div></li><li><p>Create the AMQ connection:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>In Syndesis, in the left panel, click <strong>Connections</strong> to display any available connections.</p></li><li><p>Click <strong>Create Connection</strong> to display Syndesis connectors.</p></li><li><p>Click the <strong>Red Hat AMQ</strong> connector.</p></li><li><p>Configure the connection by entering:</p><div class="olist lowerroman"><ol class="lowerroman" type="i"><li><p>In the <strong>Broker URL</strong> field, enter <code><strong>tcp://broker-amq-tcp:61616</strong></code> as the location to obtain data from.</p></li><li><p>In the <strong>User name</strong> field, enter <code><strong>amq</strong></code> as the user name for the account that accesses this AMQ broker.</p></li><li><p>In the <strong>Password</strong> field, enter <code><strong>topSecret</strong></code> as the password for the account that accesses this AMQ broker.</p></li><li><p>Leave the other fields blank.</p></li></ol></div></li><li><p>Click <strong>Validate</strong>. Syndesis immediately tries to validate the connection and displays a message that indicates whether validation is successful. If validation fails, check the values you entered and try again.</p></li><li><p>When validation is successful, click <strong>Next</strong>.</p></li><li><p>In the <strong>Name</strong> field, enter your choice of a name that helps you distinguish this connection from any other connections. For example, enter <code><strong>Red Hat AMQ Broker 1</strong></code>.</p></li><li><p>In the <strong>Description</strong> field, optionally enter any information that is helpful to know about this connection. For example, enter <code><strong>Connection to the provided Red Hat AMQ message broker.</strong></code></p></li><li><p>Click <strong>Save</strong> to see that the connection you created is now available. If you entered the example name, you would see that <strong>Red Hat AMQ Broker 1</strong> is now available.</p></li></ol></div></li></ol></div></div><div class="sect2"><h3 id="amq2api-create-custom-step_amq2api">Making a custom step available</h3><div class="paragraph"><p>Syndesis provides a number of steps that operate on integration data between connections. If Syndesis does not provide a between-connections step that meets your need, a developer can code an extension that defines one or more custom steps that operate on data between connections. The developer gives you a <code>.jar</code> file that contains the extension. You then upload the extension in Syndesis to make the custom step(s) available for use in integrations.</p></div><div class="paragraph"><p>The AMQ to REST API sample integration uses a custom step that operates on data between connections to identify items that were damaged when they were received.</p></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>In a new browser tab, go to <a href="https://github.com/syndesisio/fuse-online-sample-extension/releases" class="bare">https://github.com/syndesisio/fuse-online-sample-extension/releases</a>.</p></li><li><p>Download the <strong>Damage Reporter</strong> extensionâ€™s <code>.jar</code> file.</p></li><li><p>In Syndesis, in the left panel, click <strong>Customizations</strong> &gt; <strong>Extensions</strong>.</p></li><li><p>Click <strong>Import Extension</strong>.</p></li><li><p>Click in the dotted-line box and select the downloaded <code>.jar</code> file that contains the extension. Syndesis validates the file, extracts and displays the extension&#8217;s ID, name, description, and type, and lists <strong>Damage Reporter</strong> as the custom step that the extension defines.</p></li><li><p>Click <strong>Import Extension</strong>. Syndesis makes the custom step available and displays the list of extensions that have been imported.</p></li></ol></div><div class="paragraph"><div class="title">Additional resources</div><p>For information about coding an extension and creating its <code>.jar</code> file, see:</p></div><div class="ulist"><ul><li><p><a href="https://access.redhat.com/documentation/en-us/red_hat_fuse/7.7/html-single/tooling_user_guide/index#FuseOnlineExtension">Tooling User Guide - Use Fuse tooling to develop an extension.</a></p></li><li><p><a href="https://zregvart.github.io/syndesis.io/manual/integrating-applications/#developing-extensions_custom">Integrating Applications - Manually code an extension.</a></p></li></ul></div></div><div class="sect2"><h3 id="amq2api-create-rest-api-connector_amq2api">Creating a REST API connector</h3><div class="paragraph"><p>Syndesis can create connectors for REST APIs that support Hypertext Transfer Protocol (HTTP)/1.0 or HTTP/1.1. To do this, Syndesis requires a valid OpenAPI 3 (or 2) document that describes a REST API that you want to connect to.</p></div><div class="paragraph"><p>Your Syndesis environment provides the To Do app, which has a REST API for accessing a database that contains tasks. Your environment also provides an OpenAPI document for this API.</p></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>Identify the URL for your Syndesis environment&#8217;s copy of the OpenAPI document:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>In the Syndesis navigation panel, click <strong>Home</strong>.</p></li><li><p>Copy the URL into a text editor.</p></li><li><p>At the beginning of the URL, insert <code><strong>todo-</strong></code>.</p></li><li><p>At the end of the URL, add <code><strong>swagger.json</strong></code>.</p></li><li><p>Use the <code>http</code> scheme instead of <code>https</code>.</p><div class="paragraph"><p>The result is something like this: <code>http://todo-app-proj217402.6a63.fuse-ignite.openshiftapps.com/swagger.json</code></p></div></li></ol></div><div class="admonitionblock note"><table><tr><td class="icon"><div class="title">Note</div></td><td class="content">Specification of <code>http</code> rather than <code>https</code> avoids a runtime error if TLS certificates are not valid. In production environments, ensure that valid certificates are in place, and always specify secure URLs (<code>https</code>) to obtain an OpenAPI document.</td></tr></table></div></li><li><p>In the Syndesis navigation panel, click <strong>Customizations</strong> &gt; <strong>API Client Connectors</strong>.</p></li><li><p>Click <strong>Create API Connector</strong>.</p></li><li><p>Select <strong>Use a URL</strong>.</p></li><li><p>In the input box, paste the URL for your OpenAPI document and click <strong>Next</strong>.</p></li><li><p>On the <strong>Review Actions</strong> page, click <strong>Next</strong>. If you see a warning, you can ignore it.</p></li><li><p>Click <strong>Next</strong> again to accept <strong>HTTP Basic Authentication</strong>.</p></li><li><p>On the <strong>Review/Edit Connector Details</strong> page:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>If you want to, you can change the values in the <strong>Name</strong> and <strong>Description</strong> fields.</p></li><li><p>In the <strong>Host</strong> field, enter the name of the service host, which is something like this: <code>http://todo-app-proj217402.6a63.fuse-ignite.openshiftapps.com</code>.</p></li><li><p>In the <strong>Base URL</strong> field, enter the part of the URL that follows the host name in service requests: <code>/api</code>.</p></li></ol></div></li><li><p>Click <strong>Save</strong>.</p><div class="paragraph"><p>Syndesis displays the <strong>API Client Connectors</strong>. There is a new entry for the <strong>Todo App API</strong> that you just created.</p></div></li></ol></div></div><div class="sect2"><h3 id="amq2api-upload-todo-app-icon_amq2api">Uploading the To Do app icon</h3><div class="paragraph"><p>To show the flow of an integration, Syndesis displays icons that identify the applications that the integration is connecting to. Your Syndesis environment provides an icon for the To Do app. Follow these instructions to upload it.</p></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>Display the To Do app icon:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>In a new browser tab, paste the URL for your OpenAPI document.</p></li><li><p>At the end of the URL, replace <code>swagger.json</code> with <code>images/todo_icon.png</code> and click <strong>Enter</strong> to display the icon. For example: <code>http://todo-app-proj217402.6a63.fuse-ignite.openshiftapps.com/images/todo_icon.png</code>.</p></li></ol></div></li><li><p>Save the <code>todo_icon.png</code> image.</p></li><li><p>In Syndesis, on the <strong>API Client Connectors</strong> page, on the entry for the <strong>Todo App API</strong>, click <strong>Details</strong>.</p></li><li><p>On the <strong>Connector Details</strong> page, below the <strong>Base URL</strong> field, click <strong>Edit</strong>.</p></li><li><p>Next to the default connector icon, click <strong>Choose File</strong>.</p></li><li><p>Navigate to <code>todo_icon.png</code>, select it, and click <strong>Open</strong>. The icon appears near the top of the connector details page.</p></li><li><p>Below the <strong>Base URL</strong> field, click <strong>Save</strong>.</p></li></ol></div></div><div class="sect2"><h3 id="amq2api-create-rest-api-connection_amq2api">Creating a REST API connection</h3><div class="paragraph"><p>In an integration, before you can connect to a REST API, you create a REST API client connector and then use that connector to create a connection. You already created a REST API connector for the To Do app. Follow the instructions here to use that connector to create a connection to the To Do app REST API.</p></div><div class="ulist"><div class="title">Prerequisite</div><ul><li><p>You created the Todo App REST API connector.</p></li></ul></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>In Syndesis, in the left panel, click <strong>Connections</strong> to display any available connections.</p></li><li><p>Click <strong>Create Connection</strong> to display available connectors.</p></li><li><p>Click the <strong>Todo App API</strong> connector that you just created.</p><div class="paragraph"><p>Syndesis populates the <strong>Host</strong> and <strong>Base Path</strong> fields from the OpenAPI document that you provided when you created the connector.</p></div></li><li><p>In the <strong>Username</strong> field, enter any value. For this sample integration, user name and password values are required but they are not used.</p></li><li><p>In the <strong>Password</strong> field, enter any value.</p></li><li><p>Click <strong>Next</strong>.</p></li><li><p>In the <strong>Name</strong> field, enter your choice of a name that helps you distinguish this connection from any other connections. For example, enter <code><strong>Todo App API Client</strong></code>.</p></li><li><p>In the <strong>Description</strong> field, optionally enter any information that is helpful to know about this connection. For example, enter <code><strong>Connection to the provided Todo app REST API.</strong></code></p></li><li><p>Click <strong>Save</strong> to see that the connection you created is now available.</p></li></ol></div></div><div class="sect2"><h3 id="amq2api-create-integration_amq2api">Creating and deploying the AMQ to REST API sample integration</h3><div class="paragraph"><p>To create and deploy the AMQ to REST API sample integration, the main steps are:</p></div><div class="olist arabic"><ol class="arabic"><li><p><a href="#amq2api-choose-start-connection_create-amq">Choosing the start connection</a></p></li><li><p><a href="#amq2api-choose-finish-connection_create-amq">Choosing the finish connection</a></p></li><li><p><a href="#amq2api-add-damage-reporter-step_create-amq">Adding a damage reporter step</a></p></li><li><p><a href="#amq2api-add-mapping-step_create-amq">Adding a data mapping step</a></p></li><li><p><a href="#amq2api-name-and-publish_create-amq">Giving the integration a name and deploying it</a></p></li></ol></div><div class="ulist"><div class="title">Prerequisites</div><ul><li><p>You created a connection to the provided Red Hat AMQ broker.</p></li><li><p>You created an API Client connection to the provided Todo app.</p></li><li><p>You uploaded the extension that provides the Damage Reporter step.</p></li></ul></div><div class="sect3"><h4 id="amq2api-choose-start-connection_create-amq">Choosing the start connection</h4><div class="paragraph"><p>In Syndesis, to create the sample AMQ to REST API sample integration, the first task is to choose the start connection.</p></div><div class="ulist"><div class="title">Prerequisites</div><ul><li><p>You started the provided Red Hat AMQ broker.</p></li><li><p>You created a connection to that message broker.</p></li></ul></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>In Syndesis, on the left, click <strong>Integrations</strong>.</p></li><li><p>Click <strong>Create Integration</strong>.</p></li><li><p>On the <strong>Choose a connection</strong> page, click your AMQ connection. If you specified the example name, you would click <strong>Red Hat AMQ Broker 1</strong>.</p></li><li><p>On the <strong>Choose an action</strong> page, select the <strong>Subscribe for messages</strong> action to receive messages from the queue you specify.</p></li><li><p>In the <strong>Destination name</strong> field, enter <code><strong>inventoryReceived</strong></code> for the name of the queue to obtain data from.</p></li><li><p>Click in the <strong>Destination type</strong> field and select <strong>Queue</strong>.</p></li><li><p>Leave the other fields blank.</p></li><li><p>Click <strong>Next</strong>. Syndesis prompts you to specify the output data type. This is not needed for this sample integration.</p></li><li><p>Click <strong>Next</strong> to add the start connection to the integration.</p></li></ol></div><div class="paragraph"><div class="title">Next step</div><p>When the integration is running, after connecting to Red Hat AMQ, the integration watches for messages on the <code>inventoryReceived</code> queue. When a message is available, the integration passes it to the <strong>Damage Reporter</strong> step. However, before you can add that step to the integration, you must choose the integration&#8217;s finish connection.</p></div></div><div class="sect3"><h4 id="amq2api-choose-finish-connection_create-amq">Choosing the finish connection</h4><div class="paragraph"><p>In Syndesis, to continue creating the AMQ to REST API sample integration, after you add the start connection, you add the finish connection to the integration.</p></div><div class="ulist"><div class="title">Prerequisites</div><ul><li><p>You uploaded the provided OpenAPI document to create the Todo App API connector.</p></li><li><p>You used the Todo App API connector to create a Todo App API connection.</p></li></ul></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>In Syndesis, on the <strong>Choose a connection</strong> page, click the To Do app connection that you created. If you assigned the example name, you would click <strong>Todo App API Client</strong>.</p></li><li><p>On the <strong>Choose an action</strong> page, select <strong>Create new task</strong>, which provides information about who to contact to address a particular damaged item.</p></li><li><p>Click <strong>Next</strong> to add the finish connection to the integration.</p></li></ol></div></div><div class="sect3"><h4 id="amq2api-add-damage-reporter-step_create-amq">Adding a damage reporter step</h4><div class="paragraph"><p>With the start and finish connections in place, you are ready to add the custom step that receives the messages from the Red Hat AMQ broker and identifies any items that were damaged when they were received.</p></div><div class="ulist"><div class="title">Prerequisite</div><ul><li><p>You uploaded the extension that provides the Damage Reporter custom step.</p></li><li><p>You added the start and finish connections to the integration.</p></li></ul></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>In Syndesis, in the integration visualization, click the plus sign.</p></li><li><p>Click <strong>Damage Reporter</strong>.</p></li><li><p>Click <strong>Next</strong> to add the Damage Reporter step to the integration.</p></li></ol></div></div><div class="sect3"><h4 id="amq2api-add-mapping-step_create-amq">Adding a data mapping step</h4><div class="paragraph"><p>To continue creating the AMQ to REST API sample integration, you need to add a data mapping step. This step correlates the <code>task</code> field in the output from the damage reporter step to the <code>task</code> field in the database that the REST API accesses.</p></div><div class="ulist"><div class="title">Prerequisite</div><ul><li><p>You added the Damage Reporter step to the integration.</p></li></ul></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>In Syndesis, in the integration visualization, click the plus sign that is between the Damage Reporter step and the finish connection.</p></li><li><p>Click <strong>Data Mapper</strong>. In the data mapper, the <strong>Source</strong> panel on the left displays the fields in the output from the damage reporter step. The <strong>Target</strong> panel on the right displays the fields in the database that the API accesses.</p></li><li><p>In the <strong>Source</strong> panel, click the <code>task</code> field and then click the <strong>Create New Mapping</strong> icon.</p><div class="paragraph"><p>The <strong>Mapping Details</strong> panel opens.</p></div></li><li><p>In the <strong>Mapping Details</strong> target panel, under <strong>Targets</strong>, select <strong>/body/task</strong>.</p></li><li><p>In the upper right, click <strong>Done</strong>.</p></li></ol></div><div class="paragraph"><div class="title">Result</div><p>The integration is complete and it is ready to be published. On the left, in the integration visualization panel, you might see a <span class="image"><img src="images/tutorials/WarningIcon.png" alt="warning"></span>Data Type Mismatch warning icon. You can ignore it.</p></div></div><div class="sect3"><h4 id="amq2api-name-and-publish_create-amq">Giving the integration a name and deploying it</h4><div class="paragraph"><p>The AMQ to REST API sample integration is complete when it has a Red Hat AMQ start connection, a Damage Reporter step, a data mapper step, and it finishes with a Todo App Client API connection. Follow the instructions here to deploy it.</p></div><div class="ulist"><div class="title">Prerequisites</div><ul><li><p>You added the start and finish connections to the integration.</p></li><li><p>You added a Damager Reporter step between the start and finish connections.</p></li><li><p>You added a data mapper step between the Damage Reporter step and the connection to the Todo App API.</p></li></ul></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>In Syndesis, in the upper right, click <strong>Publish</strong>.</p></li><li><p>In the <strong>Name</strong> field, enter a name for the integration. For example, <code><strong>AMQ to REST API Sample Integration</strong></code>.</p></li><li><p>Optionally, in the <strong>Description</strong> field, enter information that might be helpful to know about this integration.</p></li><li><p>In the upper right corner, click <strong>Save and publish</strong>.</p><div class="paragraph"><p>Syndesis starts to deploy the integration and then displays the list of integrations in this environment. In the entry for your AMQ to REST API integration, you can see a progress indicator that shows the publishing stages. Syndesis is generating the runtime for the integration and will start it when the runtime is ready. This takes a few minutes.</p></div><div class="paragraph"><p>A Syndesis account is limited to a specific number of integrations that can be running at one time. For details, see the pricing plan. If you are already running the maximum number of integrations, then you must stop an integration before you can start running another one.</p></div></li><li><p>If you are already running the maximum number of integrations, follow these steps to stop an integration:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>In the left panel, click <strong>Integrations</strong>.</p></li><li><p>In the entry for the integration that you want to stop, click <span class="image"><img src="images/tutorials/ThreeVerticalDotsKebab.png" alt="ThreeVerticalDotsKebab" title="the three vertical dots"></span>on the far right.</p></li><li><p>In the popup, click <strong>Stop</strong>.</p></li></ol></div></li><li><p>After stopping an integration, start another integration as follows:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>In the left panel, click <strong>Integrations</strong>.</p></li><li><p>In the entry for the integration that you want to start, click <span class="image"><img src="images/tutorials/ThreeVerticalDotsKebab.png" alt="ThreeVerticalDotsKebab" title="the three vertical dots"></span>on the far right.</p></li><li><p>In the popup, click <strong>Start</strong>.</p></li></ol></div></li></ol></div></div></div><div class="sect2"><h3 id="amq2api-confirm-works_amq2api">Confirming that the AMQ to REST API integration works</h3><div class="paragraph"><p>After you create and publish the AMQ to REST API sample integration, you can confirm that it works as defined.</p></div><div class="paragraph"><div class="title">Prerequisite</div><p>In Syndesis, in the list of integrations, <strong>Running</strong> appears next to the AMQ to REST API integration that you created and deployed.</p></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>In a new browser window, go to the To Do app display by inserting <code><strong>todo-</strong></code> in front of the URL for your Syndesis environment. For example: <code>http://todo-app-proj761432.6a63.fuse-ignite.openshiftapps.com/</code>.</p></li><li><p>In the To Do app display, click <strong>Show JMS Form</strong> to display an input box that contains an XML message.</p></li><li><p>Click <strong>Send JMS Message</strong> to send that message to the Red Hat AMQ broker in your OpenShift project.</p><div class="paragraph"><p>Successful execution returns a task from the To Do app client API. The task identifies the ID of the damaged item and the contact information for its vendor. If the task does not appear in a moment or two, try reloading the page.</p></div></li><li><p>Edit the XML message to specify two damaged items:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>Click <strong>Show JMS Form</strong> to display the message input box again.</p></li><li><p>In the XML message, change the entry for the undamaged item to specify <code>damaged="true"</code>.</p></li><li><p>Click <strong>Send JMS Message</strong>. The To Do app client API returns a new task that contains IDs for two damaged items and contact information for the two vendors.</p></li></ol></div></li><li><p>Edit the XML message to specify an ID that you make up:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>Click <strong>Show JMS Form</strong>.</p></li><li><p>In the XML message, for the item that has <code>damaged="true"</code>, change the item ID, for example, to <code>1234</code>.</p></li><li><p>Click <strong>Send JMS Message</strong>. The To Do app client API returns a new task with the item ID that you just entered.</p></li></ol></div></li><li><p>Optionally, view the integration log to troubleshoot an unexpected result or to learn more about integration execution:</p><div class="olist loweralpha"><ol class="loweralpha" type="a"><li><p>In Syndesis, in the left panel, click <strong>Integrations</strong>.</p></li><li><p>View the entry for your AMQ to REST API integration.</p></li><li><p>In the integration&#8217;s summary page, click the <strong>Activity</strong> tab.</p></li><li><p>Click the integration execution for which you want to view activity information.</p></li></ol></div></li></ol></div></div><div class="sect2"><h3 id="cleanup_amq2api">Cleaning up your integration</h3><div class="paragraph"><p>When you are done working with a sample integration, you should stop it and delete it so that you can use the resources for another integration.</p></div><div class="ulist"><div class="title">Prerequisites</div><ul><li><p>You are finished working with a sample integration that you published.</p></li></ul></div><div class="olist arabic"><div class="title">Procedure</div><ol class="arabic"><li><p>In Syndesis, in the left panel, click <strong>Integrations</strong>.</p></li><li><p>In the main panel, identify the entry for the sample integration that you want to stop.</p></li><li><p>In that entry, to the right, click <span class="image"><img src="images/tutorials/ThreeVerticalDotsKebab.png" alt="Kebab Menu"></span>and then click <strong>Stop</strong>.</p></li><li><p>Click <strong>Stop</strong> to confirm that you want to stop running the integration.</p></li><li><p>In the entry for the integration that you just stopped, to the right, click <span class="image"><img src="images/tutorials//ThreeVerticalDotsKebab.png" alt="Kebab Menu"></span>and then click <strong>Delete</strong>.</p></li><li><p>Click <strong>Delete</strong> to confirm that you want to delete the integration.</p></li></ol></div></div></div></div></div><div id="footer"><div id="footer-text">Last updated 2020-10-18 11:28:31 UTC</div></div><footer class="page-footer text-center"><div class="row"><section class="col-md-6"><i class="fab fa-3x fa-github" aria-hidden="true"></i><h4>Get the source code</h4><p>Stay tuned to contribute or build your own solution.</p><p class="link-button"><a href="https://github.com/syndesisio" rel="nofollow" target="_blank" class="btn btn-primary">Syndesis on GitHub</a></p></section><section class="col-md-6"><i class="fas fa-3x fa-comments"></i><h4>Connect with us</h4><p>Chat with the Syndesis community.</p><p class="link-button"><a href="https://gitter.im/syndesisio/community" rel="nofollow" target="_blank" class="btn btn-primary">syndesisio on Gitter</a></p></section></div><div class="rh-logo"><section><a href="https://www.redhat.com" rel="nofollow" title="Red Hat, Inc." target="_blank"><img width="128" height="42" src="/images/redhatnew.svg" alt="Red Hat, Inc."></a></section></div></footer></body></html>