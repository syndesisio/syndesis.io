<!DOCTYPE html><html lang="en-gb"><head><meta name="generator" content="Hugo 0.62.2"><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Connection Autodiscovery</title><script type="application/javascript">var doNotTrack=!1;doNotTrack||(!function(a,e,t,n,o,c,g){a.GoogleAnalyticsObject=o,a.ga=a.ga||function(){(a.ga.q=a.ga.q||[]).push(arguments)},a.ga.l=1*new Date,c=e.createElement(t),g=e.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",g.parentNode.insertBefore(c,g)}(window,document,"script",0,"ga"),ga("create","UA-98663114-1","auto"),ga("send","pageview"))</script><link rel="canonical" href="https://syndesis.io/docs/autodiscovery/"><link rel="icon" type="image/png" href="https://syndesis.io/images/favicon.png"><meta name="generator" content="Hugo 0.62.2"><link href="https://fonts.googleapis.com/css?family=Raleway:400,500|Righteous" rel="stylesheet"><link rel="stylesheet" href="https://syndesis.io/css/syndesis.css"></head><body class="docs"><div id="wrapper"><a href="https://github.com/syndesisio" class="github-corner hidden-md-down" aria-label="View source on Github" rel="nofollow" target="_blank"><svg width="74" height="74" viewBox="0 0 250 250" style="fill:#fff;z-index:2000;color:#0088ce;mix-blend-mode:screen;position:absolute;top:0;border:0;right:0" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7
        120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9
        125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6
        C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0
        C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1
        C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4
        C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9
        C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5
        C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9
        L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><nav class="navbar fixed-top navbar-inverse bg-primary navbar-toggleable-md sps sps--abv"><button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#top-nav" aria-controls="top-nav" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button> <a href="https://syndesis.io/" title="Syndesis - Open source integration platform"><svg id="artwork" xmlns="http://www.w3.org/2000/svg" width="190px" height="39.33px" viewBox="0 0 1300 300" preserveAspectRatio="xMidYMin slice"><defs><style>.cls-1{fill:#9adde8}.cls-2{fill:#49badc}.cls-3{fill:#fff}</style></defs><title>Syndesis - Open source integration platform</title><polygon class="cls-1" points="129.95 98.77 33.99 144.38 122.22 167.37 218.18 121.75 129.95 98.77"/><polygon class="cls-2" points="218.18 121.75 218.18 121.75 122.22 167.37 242.17 198.61 218.18 121.75"/><polygon class="cls-1" points="154.99 86.86 131 10 10 67.52 129.95 98.77 154.99 86.86"/><polygon class="cls-2" points="33.99 144.38 129.95 98.77 10 67.52 10 67.52 33.99 144.38"/><polygon class="cls-2" points="189.64 25.27 131 10 154.99 86.86 213.63 102.14 189.64 25.27"/><polygon class="cls-2" points="38.54 164 62.53 240.86 121.17 256.13 121.17 256.13 97.18 179.27 97.18 179.27 38.54 164"/><polygon class="cls-1" points="242.17 198.61 122.22 167.37 97.18 179.27 121.17 256.13 242.17 198.61"/><path class="cls-3" d="M358.91,210.23c-23.57,0-43.44-17.22-44.06-41.6H329.2c.41,22.74,17.21,29.3,37.09,29.3,16.6,0,35.65-9.63,35.65-28.48,0-14.76-10.65-21.73-23.15-25.82-24-8-60.45-15.58-60.45-47.55,0-25.82,23.77-40,47.13-40,19.47,0,44.88,6.77,48.15,35.25H399.28c-.41-18.24-17-23-32.17-23-15.37,0-34.43,7.79-34.43,25.82,0,42,83.61,23,83.61,74C416.29,200.39,388.62,210.23,358.91,210.23Z"/><path class="cls-3" d="M484.32,143.22l-54.51-84h17l45.29,71.52L537.4,59.2h14.34l-54.1,83.61v64.34H484.32Z"/><path class="cls-3" d="M572.24,59.2H587.4L669,189.32h.41V59.2h13.32v148h-16.8L586,79.28h-.41V207.15H572.24Z"/><path class="cls-3" d="M760,59.2c48.56,0,76.23,25,76.23,74s-27.67,74-76.23,74H720V59.2Zm3.27,135.66c41.6,0,58.61-24.39,58.61-61.69,0-43.64-25.61-62.91-67.62-61.68h-20.9V194.86Z"/><path class="cls-3" d="M870.19,207.15V59.2H958.1V71.49H883.51v53.08h71.73v12.29H883.51v58h77.67v12.29Z"/><path class="cls-3" d="M1030.44,210.23c-23.56,0-43.44-17.22-44.05-41.6h14.34c.41,22.74,17.21,29.3,37.09,29.3,16.6,0,35.66-9.63,35.66-28.48,0-14.76-10.66-21.73-23.16-25.82-24-8-60.45-15.58-60.45-47.55,0-25.82,23.77-40,47.13-40,19.47,0,44.88,6.77,48.16,35.25h-14.35c-.41-18.24-17-23-32.17-23-15.37,0-34.43,7.79-34.43,25.82,0,42,83.61,23,83.61,74C1087.82,200.39,1060.16,210.23,1030.44,210.23Z"/><path class="cls-3" d="M1121.63,207.15V58.58H1135V207.15Z"/><path class="cls-3" d="M1212.62,210.23c-23.56,0-43.44-17.22-44.06-41.6h14.35c.41,22.74,17.21,29.3,37.09,29.3,16.6,0,35.66-9.63,35.66-28.48,0-14.76-10.66-21.73-23.16-25.82-24-8-60.45-15.58-60.45-47.55,0-25.82,23.77-40,47.13-40,19.47,0,44.88,6.77,48.16,35.25H1253c-.41-18.24-17-23-32.17-23-15.37,0-34.43,7.79-34.43,25.82,0,42,83.61,23,83.61,74C1270,200.39,1242.34,210.23,1212.62,210.23Z"/></svg></a><div class="collapse navbar-collapse" id="top-nav"><ul class="navbar-nav ml-auto mt-2 mt-md-0 mr-lg-4"><li class="nav-item ml-lg-3 ml-0"><a class="nav-link" href="https://syndesis.io/quickstart/">quickstart</a></li><li class="nav-item ml-lg-3 ml-0"><a class="nav-link" href="https://syndesis.io/docs/">docs</a></li><li class="nav-item ml-lg-3 ml-0"><a class="nav-link" href="https://syndesis.io/blog/">blog</a></li><li class="nav-item ml-lg-3 ml-0"><a class="nav-link" href="https://syndesis.io/faq/">faq</a></li><li class="nav-item ml-lg-3 ml-0"><a class="nav-link" href="https://syndesis.io/community/">community</a></li></ul></div></nav><div id="main" class="d-flex flex-row"><div id="sidebar" class="sidenav"><aside><ul class="sidebar-menu"><li class="nav-button hidden-lg-up"><button type="button" class="btn btn-primary btn-sm" data-toggle="offcanvas" data-target="#sidebar">Hide nav</button></li><li><a class="" href="https://syndesis.io/about/"><i class="fa fa-fw fa-download"></i> <span>About</span></a></li><li><a class="" href="https://syndesis.io/quickstart/"><i class="fa fa-fw fa-rocket"></i> <span>Quickstart</span></a></li><li class="sub-menu active"><a class="d-flex justify-content-between" href="https://syndesis.io/docs/"><span><i class="fa fa-fw fa-book"></i> Developer Docs</span> <span class="mr-1 expander"></span></a><ul class="sub collapse show"><li class="sub-menu"><a class="d-flex justify-content-between" href="https://syndesis.io/docs/contributing/"><span>Contributing</span> <span class="mr-1 expander"></span></a><ul class="sub collapse"><li><a class="pl-5 d-flex justify-content-between" href="https://syndesis.io/docs/categorization/"><span>Categorization</span></a></li><li><a class="pl-5 d-flex justify-content-between" href="https://syndesis.io/docs/engineering_guidelines/"><span>Engineering Guidelines</span></a></li></ul></li><li class="sub-menu"><a class="d-flex justify-content-between" href="https://syndesis.io/docs/architecture/"><span>Architecture</span> <span class="mr-1 expander"></span></a><ul class="sub collapse"><li><a class="pl-5 d-flex justify-content-between" href="https://syndesis.io/docs/architecture/maven_architecture/"><span>Maven Architecture</span></a></li></ul></li><li><a class="d-flex justify-content-between" href="https://syndesis.io/docs/development_quickstart/"><span>Development QuickStart</span></a></li><li class="sub-menu"><a class="d-flex justify-content-between" href="https://syndesis.io/docs/cli/"><span>CLI - Command Line Interface</span> <span class="mr-1 expander"></span></a><ul class="sub collapse"><li><a class="pl-5 d-flex justify-content-between" href="https://syndesis.io/docs/day_to_day/"><span>Day to Day</span></a></li></ul></li><li class="sub-menu active"><a class="d-flex justify-content-between" href="https://syndesis.io/docs/connectors/"><span>Develop a connector</span> <span class="mr-1 expander"></span></a><ul class="sub collapse show"><li><a class="pl-5 d-flex justify-content-between" href="https://syndesis.io/docs/connector-schema/"><span>Connector Schema</span></a></li><li><a class="pl-5 d-flex justify-content-between" href="https://syndesis.io/docs/datashapes/"><span>Data Shapes</span></a></li><li class="active"><a class="pl-5 d-flex justify-content-between" href="https://syndesis.io/docs/autodiscovery/"><span>Connection Autodiscovery</span></a></li></ul></li></ul></li><li><a class="" href="https://syndesis.io/faq/"><i class="fa fa-fw fa-file-text"></i> <span>FAQ</span></a></li><li><a class="" href="https://syndesis.io/community/"><i class="fa fa-fw fa-group"></i> <span>Community</span></a></li><li><a href="https://github.com/syndesisio/syndesis/issues/" target="blank"><i class="fa fa-life-ring"></i> <span>Issues & Help</span></a></li><li><a href="https://github.com/syndesisio/syndesis.io/edit/master/content/docs/autodiscovery.md" target="blank"><i class="fa fa-fw fa-edit"></i> Refine this Page</a></li></ul></aside></div><div class="main-content"><div itemscope class="doc"><meta itemprop="name" content="Connection Autodiscovery"><meta itemprop="description" content="Any integration you need to create typically starts and ends to a data source. Thanks to Syndesis you will be able to discover automatically any of those data sources and make easier the configuration of connection for the citizen integrator. Any connector can provide the &ldquo;Connection Autodiscovery&rdquo; feature by making a little extra development and using any kind of service registry you have at your disposal.
JSON Descriptor The first thing we need to do is to configure the json connector configuration."><meta itemprop="wordCount" content="535"><meta itemprop="keywords" content=""><div class="hero"><h1 itemprop="headline">Connection Autodiscovery</h1></div><div itemprop="docBody" class="docBody"><p>Any integration you need to create typically starts and ends to a data source. Thanks to Syndesis you will be able to discover automatically any of those data sources and make easier the configuration of connection for the citizen integrator. Any connector can provide the &ldquo;Connection Autodiscovery&rdquo; feature by making a little extra development and using any kind of <code>service registry</code> you have at your disposal.</p><h3 id="json-descriptor">JSON Descriptor</h3><p>The first thing we need to do is to configure the json connector configuration. We just have to add the <code>dynamic</code> tag to the connection section:</p><div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
  <span style="color:navy">&#34;actions&#34;</span>: [<span style="color:#a61717;background-color:#e3d2d2">.</span><span style="color:#a61717;background-color:#e3d2d2">.</span><span style="color:#a61717;background-color:#e3d2d2">.</span>],
  <span style="color:#a61717;background-color:#e3d2d2">.</span><span style="color:#a61717;background-color:#e3d2d2">.</span><span style="color:#a61717;background-color:#e3d2d2">.</span>
  <span style="color:navy">&#34;properties&#34;</span>: {
    <span style="color:navy">&#34;connection-ip&#34;</span>: {
      <span style="color:navy">&#34;componentProperty&#34;</span>: <span style="color:#000;font-weight:700">true</span>,
      <span style="color:#a61717;background-color:#e3d2d2">.</span><span style="color:#a61717;background-color:#e3d2d2">.</span><span style="color:#a61717;background-color:#e3d2d2">.</span>
    }
  },
  <span style="color:navy">&#34;tags&#34;</span>: [
    <span style="color:#d14">&#34;verifier&#34;</span>,
    <span style="color:#d14">&#34;dynamic&#34;</span>
  ]
}</code></pre></div><p>The next step is to extend the connector <code>meta</code> development. If it does not exist, you can <a href="https://syndesis.io/docs/datashapes/#development-example">create a new one by following this tutorial</a>. The implementation must override <code>ComponentMetadataRetrieval</code> that implements <code>MetadataRetrieval</code>.</p><div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#000;font-weight:700">public</span> <span style="color:#000;font-weight:700">interface</span> <span style="color:#458;font-weight:700">MetadataRetrieval</span> <span style="color:#000;font-weight:700">{</span>
        <span style="color:#998;font-style:italic">/**
</span><span style="color:#998;font-style:italic">         * Provide all dynamic properties configured for the specific connector.
</span><span style="color:#998;font-style:italic">         * It can use {@link CamelContext} to retrieve {@link MetaData} or use other Syndesis internal components
</span><span style="color:#998;font-style:italic">         * to provide such properties.
</span><span style="color:#998;font-style:italic">         */</span>
        <span style="color:#000;font-weight:700">default</span> SyndesisMetadataProperties <span style="color:#900;font-weight:700">fetchProperties</span><span style="color:#000;font-weight:700">(</span>CamelContext context<span style="color:#000;font-weight:700">,</span> String componentId<span style="color:#000;font-weight:700">,</span> Map<span style="color:#000;font-weight:700">&lt;</span>String<span style="color:#000;font-weight:700">,</span> Object<span style="color:#000;font-weight:700">&gt;</span> properties<span style="color:#000;font-weight:700">)</span> <span style="color:#000;font-weight:700">{</span>
            <span style="color:#000;font-weight:700">return</span> SyndesisMetadataProperties<span style="color:#000;font-weight:700">.</span><span style="color:teal">EMPTY</span><span style="color:#000;font-weight:700">;</span>
        <span style="color:#000;font-weight:700">}</span>
        <span style="color:#000;font-weight:700">.</span><span style="color:#000;font-weight:700">.</span><span style="color:#000;font-weight:700">.</span>
<span style="color:#000;font-weight:700">}</span></code></pre></div><p>We must develop the <code>fetchProperties(...)</code> in order to read dynamically the information and return it into the <code>SyndesisMetadataProperties</code> object. The <code>UI</code> will take care to render this information to the user that will be finally able to choose among the results provided.</p><div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#3c5d5d;font-weight:700">@Override</span>
    <span style="color:#000;font-weight:700">public</span> SyndesisMetadataProperties <span style="color:#900;font-weight:700">fetchProperties</span><span style="color:#000;font-weight:700">(</span>CamelContext context<span style="color:#000;font-weight:700">,</span> String componentId<span style="color:#000;font-weight:700">,</span>
                                                      Map<span style="color:#000;font-weight:700">&lt;</span>String<span style="color:#000;font-weight:700">,</span> Object<span style="color:#000;font-weight:700">&gt;</span> properties<span style="color:#000;font-weight:700">)</span> <span style="color:#000;font-weight:700">{</span>
        List<span style="color:#000;font-weight:700">&lt;</span>PropertyPair<span style="color:#000;font-weight:700">&gt;</span> connectionIps <span style="color:#000;font-weight:700">=</span> <span style="color:#000;font-weight:700">new</span> ArrayList<span style="color:#000;font-weight:700">&lt;</span><span style="color:#000;font-weight:700">&gt;</span><span style="color:#000;font-weight:700">(</span><span style="color:#000;font-weight:700">)</span><span style="color:#000;font-weight:700">;</span>
        <span style="color:#998;font-style:italic">//... Read the ips from a service registry
</span><span style="color:#998;font-style:italic"></span>        Map<span style="color:#000;font-weight:700">&lt;</span>String<span style="color:#000;font-weight:700">,</span> List<span style="color:#000;font-weight:700">&lt;</span>PropertyPair<span style="color:#000;font-weight:700">&gt;</span><span style="color:#000;font-weight:700">&gt;</span> dynamicProperties <span style="color:#000;font-weight:700">=</span> <span style="color:#000;font-weight:700">new</span> HashMap<span style="color:#000;font-weight:700">&lt;</span><span style="color:#000;font-weight:700">&gt;</span><span style="color:#000;font-weight:700">(</span><span style="color:#000;font-weight:700">)</span><span style="color:#000;font-weight:700">;</span>
        dynamicProperties<span style="color:#000;font-weight:700">.</span><span style="color:teal">put</span><span style="color:#000;font-weight:700">(</span><span style="color:#d14">&#34;connection-ip&#34;</span><span style="color:#000;font-weight:700">,</span> connectionIps<span style="color:#000;font-weight:700">)</span><span style="color:#000;font-weight:700">;</span>
        <span style="color:#000;font-weight:700">return</span> <span style="color:#000;font-weight:700">new</span> SyndesisMetadataProperties<span style="color:#000;font-weight:700">(</span>dynamicProperties<span style="color:#000;font-weight:700">)</span><span style="color:#000;font-weight:700">;</span>
    <span style="color:#000;font-weight:700">}</span></code></pre></div><p>It&rsquo;s important to familiarize with the list of properties configured for this connection. In this example we are expecting to fill the <code>connection-ip</code>, that was previously configured in the json connector configuration. Then, you just have to connect to an existing registry (it may be any online directory) and get those data.</p><p>Let&rsquo;s leverage this feature to offer a stronger and much integrated IPAAS capability.</p><h2 id="cloud-native-platform-registry">Cloud native platform registry</h2><p>Syndesis is targeted for cloud native platforms and here you typically have the possibility to manage also your data sources. You can therefore think to substitute that <code>service registry</code> with any inner implementation offered by the PAAS. As an example, you can use the <a href="https://github.com/fabric8io/kubernetes-client" rel="noreferrer" target="_blank">Kubernetes Client library</a>.</p><p>The idea is that you can get any information you want by querying the client. You must configure properly permissions in order to be able to trigger the information you need. As an example, the <code>kafka</code> connector implementation we did is querying the <code>k8s client</code> to dynamically recover all the brokers available in the platform.</p><div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#3c5d5d;font-weight:700">@Override</span>
    <span style="color:#000;font-weight:700">public</span> SyndesisMetadataProperties <span style="color:#900;font-weight:700">fetchProperties</span><span style="color:#000;font-weight:700">(</span>CamelContext context<span style="color:#000;font-weight:700">,</span> String componentId<span style="color:#000;font-weight:700">,</span>
                                                      Map<span style="color:#000;font-weight:700">&lt;</span>String<span style="color:#000;font-weight:700">,</span> Object<span style="color:#000;font-weight:700">&gt;</span> properties<span style="color:#000;font-weight:700">)</span> <span style="color:#000;font-weight:700">{</span>
        List<span style="color:#000;font-weight:700">&lt;</span>PropertyPair<span style="color:#000;font-weight:700">&gt;</span> brokers <span style="color:#000;font-weight:700">=</span> <span style="color:#000;font-weight:700">new</span> ArrayList<span style="color:#000;font-weight:700">&lt;</span><span style="color:#000;font-weight:700">&gt;</span><span style="color:#000;font-weight:700">(</span><span style="color:#000;font-weight:700">)</span><span style="color:#000;font-weight:700">;</span>
        <span style="color:#000;font-weight:700">try</span> <span style="color:#000;font-weight:700">(</span>KubernetesClient client <span style="color:#000;font-weight:700">=</span> createKubernetesClient<span style="color:#000;font-weight:700">(</span><span style="color:#000;font-weight:700">)</span><span style="color:#000;font-weight:700">)</span> <span style="color:#000;font-weight:700">{</span>
            client<span style="color:#000;font-weight:700">.</span><span style="color:teal">customResourceDefinitions</span><span style="color:#000;font-weight:700">(</span><span style="color:#000;font-weight:700">)</span><span style="color:#000;font-weight:700">.</span><span style="color:teal">list</span><span style="color:#000;font-weight:700">(</span><span style="color:#000;font-weight:700">)</span><span style="color:#000;font-weight:700">.</span><span style="color:teal">getItems</span><span style="color:#000;font-weight:700">(</span><span style="color:#000;font-weight:700">)</span>
                <span style="color:#000;font-weight:700">.</span><span style="color:teal">stream</span><span style="color:#000;font-weight:700">(</span><span style="color:#000;font-weight:700">)</span><span style="color:#000;font-weight:700">.</span><span style="color:teal">filter</span><span style="color:#000;font-weight:700">(</span>KafkaMetaDataRetrieval<span style="color:#000;font-weight:700">:</span><span style="color:#000;font-weight:700">:</span>isKafkaCustomResourceDefinition<span style="color:#000;font-weight:700">)</span>
                <span style="color:#000;font-weight:700">.</span><span style="color:teal">forEach</span><span style="color:#000;font-weight:700">(</span>kafka <span style="color:#000;font-weight:700">-</span><span style="color:#000;font-weight:700">&gt;</span> processKafkaCustomResourceDefinition<span style="color:#000;font-weight:700">(</span>brokers<span style="color:#000;font-weight:700">,</span> client<span style="color:#000;font-weight:700">,</span> kafka<span style="color:#000;font-weight:700">)</span><span style="color:#000;font-weight:700">)</span><span style="color:#000;font-weight:700">;</span>
        <span style="color:#000;font-weight:700">}</span> <span style="color:#000;font-weight:700">catch</span> <span style="color:#000;font-weight:700">(</span>Exception t<span style="color:#000;font-weight:700">)</span> <span style="color:#000;font-weight:700">{</span>
            LOG<span style="color:#000;font-weight:700">.</span><span style="color:teal">warn</span><span style="color:#000;font-weight:700">(</span><span style="color:#d14">&#34;Couldn&#39;t auto discover any broker.&#34;</span><span style="color:#000;font-weight:700">)</span><span style="color:#000;font-weight:700">;</span>
            LOG<span style="color:#000;font-weight:700">.</span><span style="color:teal">debug</span><span style="color:#000;font-weight:700">(</span><span style="color:#d14">&#34;Couldn&#39;t auto discover any broker.&#34;</span><span style="color:#000;font-weight:700">,</span> t<span style="color:#000;font-weight:700">)</span><span style="color:#000;font-weight:700">;</span>
        <span style="color:#000;font-weight:700">}</span>

        Map<span style="color:#000;font-weight:700">&lt;</span>String<span style="color:#000;font-weight:700">,</span> List<span style="color:#000;font-weight:700">&lt;</span>PropertyPair<span style="color:#000;font-weight:700">&gt;</span><span style="color:#000;font-weight:700">&gt;</span> dynamicProperties <span style="color:#000;font-weight:700">=</span> <span style="color:#000;font-weight:700">new</span> HashMap<span style="color:#000;font-weight:700">&lt;</span><span style="color:#000;font-weight:700">&gt;</span><span style="color:#000;font-weight:700">(</span><span style="color:#000;font-weight:700">)</span><span style="color:#000;font-weight:700">;</span>
        dynamicProperties<span style="color:#000;font-weight:700">.</span><span style="color:teal">put</span><span style="color:#000;font-weight:700">(</span><span style="color:#d14">&#34;brokers&#34;</span><span style="color:#000;font-weight:700">,</span> brokers<span style="color:#000;font-weight:700">)</span><span style="color:#000;font-weight:700">;</span>
        <span style="color:#000;font-weight:700">return</span> <span style="color:#000;font-weight:700">new</span> SyndesisMetadataProperties<span style="color:#000;font-weight:700">(</span>dynamicProperties<span style="color:#000;font-weight:700">)</span><span style="color:#000;font-weight:700">;</span>
    <span style="color:#000;font-weight:700">}</span></code></pre></div><p>We list all the <code>CRD</code>s, filtering only the kafka ones we need. From there we parse the result and get the broker URI that we&rsquo;ll return to the final user.</p></div></div></div><div class="toc hidden-md-down"><nav id="TableOfContents"><ul><li><ul><li><ul><li><a href="#json-descriptor">JSON Descriptor</a></li></ul></li><li><a href="#cloud-native-platform-registry">Cloud native platform registry</a></li></ul></li></ul></nav></div></div><footer class="page-footer text-center"><div class="row"><section class="col-md-6"><i class="fa fa-3x fa-github" aria-hidden="true"></i><h4>Get the source code</h4><p>Stay tuned to contribute or build your own solution.</p><p class="link-button"><a href="https://github.com/syndesisio" rel="nofollow" target="_blank" class="btn btn-primary">Syndesis on GitHub</a></p></section><section class="col-md-6"><i class="fa fa-3x fa-comments-o"></i><h4>Connect with us</h4><p>Chat with the Syndesis community.</p><p class="link-button"><a href="https://gitter.im/syndesisio/community" rel="nofollow" target="_blank" class="btn btn-primary">syndesisio on Gitter</a></p></section></div><div class="rh-logo"><section><a href="https://www.redhat.com" rel="nofollow" title="Red Hat, Inc." target="_blank"><img width="128" height="42" src="https://syndesis.io/images/redhatnew.svg" alt="Red Hat, Inc."></a></section></div></footer></div><script src="https://syndesis.io/js/syndesis.js"></script></body></html>