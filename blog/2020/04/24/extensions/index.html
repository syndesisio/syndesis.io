<!DOCTYPE html><html lang="en-gb"><head><meta name="generator" content="Hugo 0.62.2"><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>How to use an extension</title><script type="application/javascript">var doNotTrack=!1;doNotTrack||(!function(a,e,t,n,o,c,g){a.GoogleAnalyticsObject=o,a.ga=a.ga||function(){(a.ga.q=a.ga.q||[]).push(arguments)},a.ga.l=1*new Date,c=e.createElement(t),g=e.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",g.parentNode.insertBefore(c,g)}(window,document,"script",0,"ga"),ga("create","UA-98663114-1","auto"),ga("send","pageview"))</script><link rel="canonical" href="https://syndesis.io/blog/2020/04/24/extensions/"><link rel="icon" type="image/png" href="https://syndesis.io/images/favicon.png"><meta name="generator" content="Hugo 0.62.2"><link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://syndesis.io/css/syndesis.css"></head><body class="blog"><div id="wrapper"><a href="https://github.com/syndesisio" class="github-corner hidden-md-down" aria-label="View source on Github" rel="nofollow" target="_blank"><svg width="74" height="74" viewBox="0 0 250 250" style="fill:#fff;z-index:2000;color:#0088ce;mix-blend-mode:screen;position:absolute;top:0;border:0;right:0" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7
        120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9
        125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6
        C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0
        C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1
        C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4
        C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9
        C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5
        C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9
        L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><nav class="navbar topnav fixed-top navbar-inverse bg-primary navbar-toggleable-md sps sps--abv"><button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#top-nav" aria-controls="top-nav" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button> <a href="https://syndesis.io/" title="Syndesis - Open source integration platform"><svg id="artwork" xmlns="http://www.w3.org/2000/svg" width="190px" height="39.33px" viewBox="0 0 1300 300" preserveAspectRatio="xMidYMin slice"><defs><style>.cls-1{fill:#9adde8}.cls-2{fill:#49badc}.cls-3{fill:#fff}</style></defs><title>Syndesis - Open source integration platform</title><polygon class="cls-1" points="129.95 98.77 33.99 144.38 122.22 167.37 218.18 121.75 129.95 98.77"/><polygon class="cls-2" points="218.18 121.75 218.18 121.75 122.22 167.37 242.17 198.61 218.18 121.75"/><polygon class="cls-1" points="154.99 86.86 131 10 10 67.52 129.95 98.77 154.99 86.86"/><polygon class="cls-2" points="33.99 144.38 129.95 98.77 10 67.52 10 67.52 33.99 144.38"/><polygon class="cls-2" points="189.64 25.27 131 10 154.99 86.86 213.63 102.14 189.64 25.27"/><polygon class="cls-2" points="38.54 164 62.53 240.86 121.17 256.13 121.17 256.13 97.18 179.27 97.18 179.27 38.54 164"/><polygon class="cls-1" points="242.17 198.61 122.22 167.37 97.18 179.27 121.17 256.13 242.17 198.61"/><path class="cls-3" d="M358.91,210.23c-23.57,0-43.44-17.22-44.06-41.6H329.2c.41,22.74,17.21,29.3,37.09,29.3,16.6,0,35.65-9.63,35.65-28.48,0-14.76-10.65-21.73-23.15-25.82-24-8-60.45-15.58-60.45-47.55,0-25.82,23.77-40,47.13-40,19.47,0,44.88,6.77,48.15,35.25H399.28c-.41-18.24-17-23-32.17-23-15.37,0-34.43,7.79-34.43,25.82,0,42,83.61,23,83.61,74C416.29,200.39,388.62,210.23,358.91,210.23Z"/><path class="cls-3" d="M484.32,143.22l-54.51-84h17l45.29,71.52L537.4,59.2h14.34l-54.1,83.61v64.34H484.32Z"/><path class="cls-3" d="M572.24,59.2H587.4L669,189.32h.41V59.2h13.32v148h-16.8L586,79.28h-.41V207.15H572.24Z"/><path class="cls-3" d="M760,59.2c48.56,0,76.23,25,76.23,74s-27.67,74-76.23,74H720V59.2Zm3.27,135.66c41.6,0,58.61-24.39,58.61-61.69,0-43.64-25.61-62.91-67.62-61.68h-20.9V194.86Z"/><path class="cls-3" d="M870.19,207.15V59.2H958.1V71.49H883.51v53.08h71.73v12.29H883.51v58h77.67v12.29Z"/><path class="cls-3" d="M1030.44,210.23c-23.56,0-43.44-17.22-44.05-41.6h14.34c.41,22.74,17.21,29.3,37.09,29.3,16.6,0,35.66-9.63,35.66-28.48,0-14.76-10.66-21.73-23.16-25.82-24-8-60.45-15.58-60.45-47.55,0-25.82,23.77-40,47.13-40,19.47,0,44.88,6.77,48.16,35.25h-14.35c-.41-18.24-17-23-32.17-23-15.37,0-34.43,7.79-34.43,25.82,0,42,83.61,23,83.61,74C1087.82,200.39,1060.16,210.23,1030.44,210.23Z"/><path class="cls-3" d="M1121.63,207.15V58.58H1135V207.15Z"/><path class="cls-3" d="M1212.62,210.23c-23.56,0-43.44-17.22-44.06-41.6h14.35c.41,22.74,17.21,29.3,37.09,29.3,16.6,0,35.66-9.63,35.66-28.48,0-14.76-10.66-21.73-23.16-25.82-24-8-60.45-15.58-60.45-47.55,0-25.82,23.77-40,47.13-40,19.47,0,44.88,6.77,48.16,35.25H1253c-.41-18.24-17-23-32.17-23-15.37,0-34.43,7.79-34.43,25.82,0,42,83.61,23,83.61,74C1270,200.39,1242.34,210.23,1212.62,210.23Z"/></svg></a><div class="collapse navbar-collapse" id="top-nav"><ul class="navbar-nav ml-auto mt-2 mt-md-0 mr-lg-4"><li class="nav-item ml-lg-3 ml-0"><a class="nav-link" href="https://syndesis.io/quickstart">quickstart</a></li><li class="nav-item ml-lg-3 ml-0"><a class="nav-link" href="https://syndesis.io/docs">docs</a></li><li class="nav-item ml-lg-3 ml-0"><a class="nav-link active" href="https://syndesis.io/blog">blog</a></li><li class="nav-item ml-lg-3 ml-0"><a class="nav-link" href="https://syndesis.io/faq">faq</a></li><li class="nav-item ml-lg-3 ml-0"><a class="nav-link" href="https://syndesis.io/community">community</a></li></ul></div></nav><div id="main" class="d-flex flex-row"><div id="sidebar" class="sidenav no-sidebar"></div><div class="main-content"><div itemscope itemtype="http://schema.org/BlogPosting" class="post"><meta itemprop="name" content="How to use an extension"><meta itemprop="description" content="Customization is a key factor in any successful software product. Even more for an integration platform whose goal is to make heterogeneous external systems communicate between them.
Syndesis is a flexible integration platform and takes this aspect seriously providing an Extension mechanism by design. We also know that once the platform is up and running, it is desirable to have an easy way to install a customization with no need to involve IT in upgrade procedures."><meta itemprop="datePublished" content="2020-04-24T12:00:00&#43;01:00"><meta itemprop="dateModified" content="2020-04-24T12:00:00&#43;01:00"><meta itemprop="wordCount" content="907"><meta itemprop="keywords" content=""><div class="hero"><h1 itemprop="headline">How to use an extension</h1><time class="post-time"><p class="blog-post-meta">Published: <time datetime="2020-04-24T12:00:00&#43;01:00">24 Apr, 2020</time> <i class="fa fa-clock-o" aria-hidden="true"></i> <span>5 minute read</span></p></time></div><div itemprop="articleBody" class="articleBody"><p>Customization is a key factor in any successful software product. Even more for an integration platform whose goal is to make heterogeneous external systems communicate between them.</p><p>Syndesis is a <strong>flexible integration platform</strong> and takes this aspect seriously providing an <code>Extension</code> mechanism by design. We also know that once the platform is up and running, it is desirable to have an easy way to install a customization with <strong>no need to involve IT</strong> in upgrade procedures.</p><p>In this blog post we will learn what exactly is an <code>Extension</code> and how to leverage it in order to provide the desired level of customization to our integration platform.</p><h2 id="extension-types">Extension types</h2><p>We designed Syndesis to be able to plug certain customization capabilities during the product lifecycle. Let&rsquo;s say you really need an integration to use your old Cobol application or that Java based price calculation engine that you&rsquo;re so proud of. <code>Extension</code>s are there for you.</p><p>We can think an <code>Extension</code> as a way to develop your custom logic and let it be imported and recognized by Syndesis as part of itself.</p><p>Let&rsquo;s identify the different kind of customizations you can use in Syndesis:</p><ul><li>Connectors</li><li>Steps</li><li>Libraries</li></ul><h4 id="connectors">Connectors</h4><p>We know that a <code>Connector</code> is the way Syndesis uses to communicate with an external system (<a href="https://syndesis.io/docs/connectors/whatis/">learn more</a>).</p><p>Let&rsquo;s return to that legacy Cobol application you need to use in your integration. You can create a software proxy as an <code>Extension Connector</code> type and use it normally as it would be any other bundled <code>Connector</code> provided originally by your platform.</p><p>Once you&rsquo;ve imported your new <code>Connector</code> you will be able to use it normally in any integration with its expected actions and data shapes.</p><h4 id="steps">Steps</h4><p>A <code>Step</code> is an action used by an integration to perform certain tasks with no need to connect from or to any data source.</p><p>Let&rsquo;s think at the example mentioned earlier. You have a nice price calculation engine and you would like your integrations to use it. Let&rsquo;s image the following scenario:</p><div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">SQL Database &gt;&gt; Price Engine calculate &gt;&gt; Microservice</code></pre></div><p>The middle <code>Step</code> is used to perform certain tasks on an input and likely provide a different output. Through development of an <code>Extension Step</code> you will be able to include your algorithm into Syndesis and use as a first class citizen in any of your integrations.</p><p>Another classic kind of <code>Step</code>s is represented by <a href="https://camel.apache.org/components/latest/eips/enterprise-integration-patterns.html#EnterpriseIntegrationPatterns-MessageTransformation" rel="noreferrer" target="_blank">message transformation Enterprise Integration Patterns</a>.</p><h4 id="libraries">Libraries</h4><p>A <code>Library</code> is the way we can use to include any dependency needed at runtime by an integration. Let&rsquo;s stick with the price calculation example. We are using a <code>Strategy</code> pattern in order to pick the price engine based on certain runtime dependencies available or not.</p><p>Guess what!? we can use this particular <code>Extension Library</code> to be able to drive each integration with the proper runtime dependencies. On <code>Integration A</code> we will provide <code>Library A</code> and on <code>Integration B</code> we will provide <code>Library B</code>. The <code>citizen integrator</code> will provide such dependencies during the integration configuration, no need to hack the containers!</p><p>Actually this feature is under development and it will be available soon, so stay tuned and <a href="https://twitter.com/syndesisio" rel="noreferrer" target="_blank">follow us on Twitter</a> to be notified when it will be ready.</p><h2 id="step-by-step-procedure">Step by step procedure</h2><p>Now that we know what kind of customization we can provide to Syndesis, let&rsquo;s make one! We will use the official documentation and reuse the same example provided there. It&rsquo;s a simple <code>Validation EIP</code> <code>Step</code> used to raise an exception when we receive any message that does not follow certain rules.</p><h4 id="extension-development">Extension development</h4><p>First of all we need to create a maven project structure. You can either clone the <a href="https://github.com/syndesisio/syndesis-extensions" rel="noreferrer" target="_blank">extensions project</a> or use one of the available extension maven archetypes:</p><div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">mvn archetype:generate -DarchetypeGroupId=io.syndesis.extension -DarchetypeArtifactId=extension-archetype-java</code></pre></div><p>The wizard will define the structure needed by the project. The full development is detailed in the <a href="https://syndesis.io/docs/extensions/create/">Syndesis extension development documentation</a> page.</p><h4 id="ui-import">UI import</h4><p>The <code>Extension</code> developed in the previous section can be found under the <code>target</code> directory of the maven project. It&rsquo;s a <code>jar</code> file and you can import into Syndesis by dragging and dropping that file in the <em>Customizations &gt;&gt; Extensions &gt;&gt; Import</em> section:</p><div style="text-align:center;margin:20px 0"><img src="../1-import-extensions.png" width="640"><br><span style="font-style:italic">Figure 1. Extension import page</span></div><p>The platform will check the file and provide a detail screen you must review before importing the library</p><div style="text-align:center;margin:20px 0"><img src="../2-review-extension.png" width="640"><br><span style="font-style:italic">Figure 2. Review imported extension</span></div><p>The validation <code>Step</code> is now ready to be used!</p><h4 id="integration-configuration">Integration configuration</h4><p>In order to see it in action we can create a simple <em>Webtoken to Log</em> integration and put a <code>Validation</code> <code>Step</code> just in the middle.</p><p>Let&rsquo;s start with the Webtoken configuration:</p><div style="text-align:center;margin:20px 0"><img src="../3-webtoken-configuration.png" width="640"><br><span style="font-style:italic">Figure 3. Webtoken configuration</span></div><p>And we finalize the integration with a simple Log:</p><div style="text-align:center;margin:20px 0"><img src="../4-log-configuration.png" width="640"><br><span style="font-style:italic">Figure 4. Log configuration</span></div><p>Now we add a <code>Step</code> just in the middle, our <code>Validation</code>:</p><div style="text-align:center;margin:20px 0"><img src="../5-validate-step.png" width="640"><br><span style="font-style:italic">Figure 5. Validate step</span></div><p>Of course, we must configure the rule we want for the integration, in this case it&rsquo;s a simple check on the text expected by the message body:</p><div style="text-align:center;margin:20px 0"><img src="../5-1-validate-rule.png" width="640"><br><span style="font-style:italic">Figure 5.1. Validate rule configuration</span></div><p>Finally the integration will look like this:</p><div style="text-align:center;margin:20px 0"><img src="../6-integration-resume.png" width="640"><br><span style="font-style:italic">Figure 6. Integration resume</span></div><h4 id="example-in-action">Example in action</h4><p>Let&rsquo;s now kick off our integration by making some calls to the webtoken. Let&rsquo;s start with the text that must pass the validation:</p><div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">printf &#34;test&#34; | http POST https://i-validate-myproject.192.168.42.139.nip.io/webhook/validate valid:false --verify=no</code></pre></div><p>The result can be checked in the activity screen:</p><div style="text-align:center;margin:20px 0"><img src="../7-message-ok.png" width="640"><br><span style="font-style:italic">Figure 7. Message validated correctly</span></div><p>Now, let&rsquo;s try a failure:</p><div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">printf &#34;failing test&#34; | http POST https://i-validate-myproject.192.168.42.139.nip.io/webhook/validate valid:false --verify=no</code></pre></div><p>And we can see that it&rsquo;s throwing an exception as we expected.</p><div style="text-align:center;margin:20px 0"><img src="../8-message-fail.png" width="640"><br><span style="font-style:italic">Figure 8. Message validation failed</span></div></div></div></div><div class="no-toc hidden-md-down"></div></div><footer class="page-footer text-center"><div class="row"><section class="col-md-6"><i class="fab fa-3x fa-github" aria-hidden="true"></i><h4>Get the source code</h4><p>Stay tuned to contribute or build your own solution.</p><p class="link-button"><a href="https://github.com/syndesisio" rel="nofollow" target="_blank" class="btn btn-primary">Syndesis on GitHub</a></p></section><section class="col-md-6"><i class="fas fa-3x fa-comments"></i><h4>Connect with us</h4><p>Chat with the Syndesis community.</p><p class="link-button"><a href="https://gitter.im/syndesisio/community" rel="nofollow" target="_blank" class="btn btn-primary">syndesisio on Gitter</a></p></section></div><div class="rh-logo"><section><a href="https://www.redhat.com" rel="nofollow" title="Red Hat, Inc." target="_blank"><img width="128" height="42" src="https://syndesis.io/images/redhatnew.svg" alt="Red Hat, Inc."></a></section></div></footer></div><script src="https://syndesis.io/js/syndesis.js"></script><script>var languagedir=JSON.parse('"ltr"');window.onload=function(){var e=document.getElementById("navCollapseBtn");e&&e.addEventListener("click",function(e){var t=document.querySelector(".navbar__collapse");t&&("true"===t.getAttribute("data-open")?(t.setAttribute("data-open","false"),t.style.maxHeight=0):(t.setAttribute("data-open","true"),t.style.maxHeight=t.scrollHeight+"px"))}),document.querySelectorAll(".menu__list").forEach(function(e){0<e.querySelectorAll(".active").length&&(e.style.maxHeight=e.scrollHeight+"px")}),document.querySelectorAll(".menu__title--collapse").forEach(function(e){e.addEventListener("click",function(e){var t=this.nextElementSibling,l=this.querySelector(".menu__title--icon");if(!t)return null;t.style.maxHeight?(t.style.maxHeight=null,t.classList.remove("active"),"rtl"===languagedir?l.classList.remove("downrtl"):l.classList.remove("down")):(t.style.maxHeight=t.scrollHeight+"px",t.classList.add("active"),"rtl"===languagedir?l.classList.add("downrtl"):(l.classList.add("down"),l.classList.remove("right")))})})}</script></body></html>